<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çµŒæ¸ˆå­¦å›³é‘‘ - Economics Illustrated Book</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: #000000;
            color: #ffffff;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
            overflow: hidden;
            height: 100vh;
        }
        
        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        
        header {
            padding: 1.5rem;
            text-align: center;
            border-bottom: 1px solid #1f2937;
            background-color: #111827;
        }
        
        header h1 {
            font-size: 2rem;
            font-weight: bold;
            background: linear-gradient(to right, #10b981, #fbbf24);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        header p {
            color: #9ca3af;
            margin-top: 0.5rem;
            font-size: 0.875rem;
        }
        
        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }
        
        /* Left sidebar - Eras */
        .era-sidebar {
            width: 16rem;
            background-color: #111827;
            border-right: 1px solid #1f2937;
            overflow-y: auto;
            padding: 1rem;
        }
        
        .era-item {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            padding: 1rem;
            margin-bottom: 0.5rem;
            background-color: #1f2937;
            border: 1px solid transparent;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .era-item:hover {
            background-color: #374151;
        }
        
        .era-item.active {
            background-color: #065f46;
            border-color: #10b981;
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.3);
        }
        
        .era-icon {
            font-size: 1.125rem;
            flex-shrink: 0;
            margin-top: 0.125rem;
        }
        
        .era-info {
            flex: 1;
        }
        
        .era-title {
            font-size: 0.875rem;
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 0.25rem;
        }
        
        .era-period {
            font-size: 0.75rem;
            color: #9ca3af;
        }
        
        /* Center - Economist cards */
        .economist-grid {
            flex: 1;
            background-color: #0f172a;
            overflow-y: auto;
            padding: 1.5rem;
        }
        
        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
        }
        
        .economist-card {
            background-color: #1e293b;
            border: 2px solid #334155;
            border-radius: 0.75rem;
            padding: 1.25rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .economist-card:hover {
            border-color: #10b981;
            box-shadow: 0 10px 30px rgba(16, 185, 129, 0.2);
            transform: translateY(-4px);
        }
        
        .economist-card.selected {
            border-color: #10b981;
            background-color: #065f46;
            box-shadow: 0 10px 40px rgba(16, 185, 129, 0.4);
        }
        
        .economist-name {
            font-size: 1.25rem;
            font-weight: bold;
            color: #10b981;
            margin-bottom: 0.5rem;
        }
        
        .economist-title {
            font-size: 0.875rem;
            color: #fbbf24;
            margin-bottom: 0.75rem;
        }
        
        .economist-question {
            font-size: 0.875rem;
            color: #d1d5db;
            line-height: 1.5;
        }
        
        /* Right side - Detail view */
        .detail-area {
            width: 40rem;
            background-color: #111827;
            border-left: 1px solid #1f2937;
            overflow-y: auto;
            padding: 2rem;
        }
        
        .empty-state {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: #6b7280;
            font-size: 1.125rem;
        }
        
        .detail-card {
            animation: fadeIn 0.3s ease-in;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .detail-header {
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px solid #1f2937;
        }
        
        .detail-name {
            font-size: 2rem;
            font-weight: bold;
            color: #10b981;
            margin-bottom: 0.5rem;
        }
        
        .detail-title {
            font-size: 1.125rem;
            color: #fbbf24;
        }
        
        .detail-section {
            margin-bottom: 2rem;
        }
        
        .detail-section h3 {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .detail-section p {
            font-size: 0.9375rem;
            line-height: 1.7;
            color: #d1d5db;
        }
        
        .question {
            color: #fbbf24;
        }
        
        .answer {
            color: #34d399;
        }
        
        .answer-text {
            background-color: #064e3b;
            padding: 1rem;
            border-radius: 0.5rem;
            border-left: 4px solid #10b981;
        }
        
        .detail {
            color: #60a5fa;
        }
        
        .detail-text {
            background-color: #1e3a8a;
            padding: 1rem;
            border-radius: 0.5rem;
        }
        
        .connection {
            color: #f472b6;
        }
        
        .connection-text {
            background-color: #831843;
            padding: 1rem;
            border-radius: 0.5rem;
        }
        
        .diagram {
            color: #a78bfa;
        }
        
        .diagram-container {
            background-color: #1f2937;
            padding: 2rem;
            border-radius: 0.75rem;
            margin-top: 0.75rem;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #1f2937;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #4b5563;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #6b7280;
        }
        
        /* Diagram Styles */
        .diagram-invisible-hand {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
        }
        
        .diagram-invisible-hand .hand {
            font-size: 4rem;
        }
        
        .diagram-invisible-hand .flow {
            display: flex;
            gap: 1rem;
            align-items: center;
        }
        
        .diagram-invisible-hand .box {
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            border: 2px solid;
            background-color: #065f46;
            border-color: #10b981;
        }
        
        .diagram-invisible-hand .arrow {
            font-size: 1.5rem;
            color: #fbbf24;
        }
        
        .diagram-comparative-advantage {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .diagram-comparative-advantage .country {
            padding: 1.5rem;
            border-radius: 0.5rem;
            text-align: center;
            border: 2px solid;
        }
        
        .diagram-comparative-advantage .country-a {
            background-color: #7c2d12;
            border-color: #ea580c;
        }
        
        .diagram-comparative-advantage .country-b {
            background-color: #1e3a8a;
            border-color: #3b82f6;
        }
        
        .diagram-comparative-advantage .result {
            background-color: #065f46;
            border-color: #10b981;
            padding: 1.5rem;
            border-radius: 0.5rem;
            text-align: center;
            border: 2px solid;
            font-weight: bold;
        }
        
        .diagram-malthus-curve {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }
        
        .diagram-malthus-curve .line {
            width: 300px;
            height: 3px;
            position: relative;
        }
        
        .diagram-malthus-curve .population {
            background: linear-gradient(to right, #ef4444, #dc2626);
            height: 6px;
        }
        
        .diagram-malthus-curve .food {
            background: linear-gradient(to right, #10b981, #059669);
            height: 3px;
        }
        
        .diagram-malthus-curve .label {
            color: #9ca3af;
            font-size: 0.875rem;
        }
        
        .diagram-equilibrium {
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            width: 300px;
            height: 300px;
        }
        
        .diagram-equilibrium .line {
            position: absolute;
            width: 3px;
            height: 280px;
            background-color: #3b82f6;
        }
        
        .diagram-equilibrium .supply {
            transform: rotate(45deg);
            background-color: #ef4444;
        }
        
        .diagram-equilibrium .demand {
            transform: rotate(-45deg);
            background-color: #10b981;
        }
        
        .diagram-equilibrium .point {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: #fbbf24;
            border: 3px solid #ffffff;
            z-index: 10;
        }
        
        .diagram-supply-demand {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }
        
        .diagram-supply-demand .scissors {
            font-size: 4rem;
        }
        
        .diagram-supply-demand .blades {
            display: flex;
            gap: 2rem;
        }
        
        .diagram-supply-demand .blade {
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            border: 2px solid;
        }
        
        .diagram-supply-demand .supply {
            background-color: #7c2d12;
            border-color: #ea580c;
        }
        
        .diagram-supply-demand .demand {
            background-color: #065f46;
            border-color: #10b981;
        }
        
        .diagram-surplus-value {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }
        
        .diagram-surplus-value .bar {
            width: 300px;
            display: flex;
            height: 60px;
            border-radius: 0.5rem;
            overflow: hidden;
        }
        
        .diagram-surplus-value .wage {
            flex: 1;
            background-color: #1e3a8a;
            display: flex;
            align-items: center;
            justify-content: center;
            border-right: 2px solid #000;
        }
        
        .diagram-surplus-value .surplus {
            flex: 1;
            background-color: #7c2d12;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .diagram-surplus-value .label {
            color: #9ca3af;
            font-size: 0.875rem;
        }
        
        .diagram-public-spending {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
        }
        
        .diagram-public-spending .gov {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background-color: #065f46;
            border: 3px solid #10b981;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
        }
        
        .diagram-public-spending .arrows {
            display: flex;
            gap: 2rem;
        }
        
        .diagram-public-spending .arrow {
            font-size: 2rem;
            color: #fbbf24;
        }
        
        .diagram-public-spending .boxes {
            display: flex;
            gap: 1rem;
        }
        
        .diagram-public-spending .box {
            padding: 1rem;
            border-radius: 0.5rem;
            background-color: #1e3a8a;
            border: 2px solid #3b82f6;
        }
        
        .diagram-small-gov {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
        }
        
        .diagram-small-gov .comparison {
            display: flex;
            gap: 2rem;
            align-items: center;
        }
        
        .diagram-small-gov .gov-big {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background-color: #7c2d12;
            border: 3px solid #ef4444;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }
        
        .diagram-small-gov .vs {
            font-size: 2rem;
            color: #fbbf24;
        }
        
        .diagram-small-gov .gov-small {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: #065f46;
            border: 3px solid #10b981;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        .diagram-dispersed-knowledge {
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            min-height: 250px;
        }
        
        .diagram-dispersed-knowledge .center {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: #7c2d12;
            border: 3px solid #ef4444;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            z-index: 10;
        }
        
        .diagram-dispersed-knowledge .node {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: #065f46;
            border: 2px solid #10b981;
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            font-size: 1rem;
        }
        
        .diagram-dispersed-knowledge .node:nth-child(2) { top: 0; left: 50%; transform: translateX(-50%); }
        .diagram-dispersed-knowledge .node:nth-child(3) { top: 30%; right: 10%; }
        .diagram-dispersed-knowledge .node:nth-child(4) { bottom: 30%; right: 10%; }
        .diagram-dispersed-knowledge .node:nth-child(5) { bottom: 0; left: 50%; transform: translateX(-50%); }
        .diagram-dispersed-knowledge .node:nth-child(6) { bottom: 30%; left: 10%; }
        .diagram-dispersed-knowledge .node:nth-child(7) { top: 30%; left: 10%; }
        
        .diagram-nash-equilibrium {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .diagram-nash-equilibrium .table {
            display: grid;
            grid-template-columns: 100px 150px 150px;
            gap: 2px;
            background-color: #4b5563;
        }
        
        .diagram-nash-equilibrium .cell {
            background-color: #1f2937;
            padding: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
        
        .diagram-nash-equilibrium .header {
            background-color: #374151;
            font-weight: bold;
        }
        
        .diagram-nash-equilibrium .equilibrium {
            background-color: #065f46;
            border: 2px solid #10b981;
        }
        
        .diagram-prospect-curve {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }
        
        .diagram-prospect-curve .curve {
            width: 250px;
            height: 200px;
            border-left: 3px solid #9ca3af;
            border-bottom: 3px solid #9ca3af;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .diagram-prospect-curve .gain {
            position: absolute;
            top: 20px;
            right: 20px;
            color: #10b981;
        }
        
        .diagram-prospect-curve .loss {
            position: absolute;
            bottom: 20px;
            left: 20px;
            color: #ef4444;
            font-weight: bold;
        }
        
        .diagram-capability {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .diagram-capability .item {
            padding: 1.5rem;
            border-radius: 0.5rem;
            border: 2px solid;
        }
        
        .diagram-capability .gdp {
            background-color: #4b5563;
            border-color: #9ca3af;
        }
        
        .diagram-capability .cap {
            background-color: #065f46;
            border-color: #10b981;
        }
        
        .diagram-r-g-inequality {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
        }
        
        .diagram-r-g-inequality .formula {
            font-size: 2.5rem;
            font-weight: bold;
            color: #ef4444;
        }
        
        .diagram-r-g-inequality .explanation {
            display: flex;
            gap: 2rem;
        }
        
        .diagram-r-g-inequality .box {
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            text-align: center;
            border: 2px solid;
        }
        
        .diagram-r-g-inequality .r {
            background-color: #7c2d12;
            border-color: #ea580c;
        }
        
        .diagram-r-g-inequality .g {
            background-color: #1e3a8a;
            border-color: #3b82f6;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ’° çµŒæ¸ˆå­¦å›³é‘‘ - Economics Encyclopedia</h1>
            <p>å¯Œã®æºæ³‰ã‹ã‚‰ç¾ä»£ã¾ã§ï¼šçµŒæ¸ˆå­¦è€…ãŸã¡ã®ç³»è­œ</p>
        </header>
        
        <div class="main-content">
            <!-- Left sidebar: Eras -->
            <div class="era-sidebar" id="eraSidebar"></div>
            
            <!-- Center: Economist grid -->
            <div class="economist-grid" id="economistGrid"></div>
            
            <!-- Right: Detail view -->
            <div class="detail-area" id="detailArea">
                <div class="empty-state">
                    çµŒæ¸ˆå­¦è€…ã‚’é¸æŠã—ã¦ãã ã•ã„
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // ============================================================================
        // DATA STRUCTURE
        // ============================================================================
        
        const ERAS = [
            { id: 'classical', title: 'å¤å…¸æ´¾ï¼šå¯Œã®æºæ³‰', period: '1776 - 1870', icon: 'âš“' },
            { id: 'neoclassical', title: 'æ–°å¤å…¸æ´¾ï¼šé™ç•Œé©å‘½', period: '1870 - 1930', icon: 'ğŸ“Š' },
            { id: 'marxist', title: 'ãƒãƒ«ã‚¯ã‚¹çµŒæ¸ˆå­¦', period: '1867 - 1920', icon: 'ğŸ“¦' },
            { id: 'keynesian', title: 'ã‚±ã‚¤ãƒ³ã‚ºé©å‘½ï¼šå·¨è¦–', period: '1936 - 1970', icon: 'ğŸ“ˆ' },
            { id: 'libertarian', title: 'æ–°è‡ªç”±ä¸»ç¾©ï¼šå¸‚å ´é‡è¦–', period: '1970 - 2000', icon: 'âš¡' },
            { id: 'game', title: 'ã‚²ãƒ¼ãƒ ç†è«–ã¨åˆ¶åº¦', period: '1950 - Present', icon: 'ğŸ“' },
            { id: 'behavioral', title: 'ç¾ä»£ï¼šè¡Œå‹•ã¨æ ¼å·®', period: '1990 - Present', icon: 'ğŸ§ ' }
        ];
        
        const ECONOMISTS = {
            classical: [
                {
                    id: 'smith',
                    name: 'ã‚¢ãƒ€ãƒ ãƒ»ã‚¹ãƒŸã‚¹',
                    title: 'çµŒæ¸ˆå­¦ã®çˆ¶',
                    question: 'å€‹äººã®åˆ©å·±å¿ƒã¯ç¤¾ä¼šã«ã¨ã£ã¦æ‚ªã‹ï¼Ÿ',
                    answer: 'ã„ã„ãˆã€‚ã€Œç¥ã®è¦‹ãˆã–ã‚‹æ‰‹ã€ã«ã‚ˆã£ã¦ã€çµæœçš„ã«ç¤¾ä¼šå…¨ä½“ã®åˆ©ç›Šã«ãªã‚‹ã€‚',
                    detail: 'ã€å›½å¯Œè«–ã€ã€‚é‡å•†ä¸»ç¾©ï¼ˆå›½å®¶ã«ã‚ˆã‚‹ä»‹å…¥ï¼‰ã‚’æ‰¹åˆ¤ã€‚ãƒ‘ãƒ³å±‹ãŒãƒ‘ãƒ³ã‚’ç„¼ãã®ã¯æ…ˆå–„ã§ã¯ãªãè‡ªåˆ†ã®åˆ©ç›Šã®ãŸã‚ã ãŒã€ãã‚ŒãŒå¸‚å ´ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’é€šã˜ã¦ç¤¾ä¼šã‚’è±Šã‹ã«ã™ã‚‹ã€‚åˆ†æ¥­ã®é‡è¦æ€§ã‚‚èª¬ã„ãŸã€‚',
                    connection: 'é“å¾³å“²å­¦æ•™æˆã€‚è¿‘ä»£çµŒæ¸ˆå­¦ã®å§‹ç¥–ã€‚',
                    diagramType: 'invisible_hand',
                    diagramContent: null
                },
                {
                    id: 'ricardo',
                    name: 'ãƒ‡ãƒ´ã‚£ãƒƒãƒ‰ãƒ»ãƒªã‚«ãƒ¼ãƒ‰',
                    title: 'è‡ªç”±è²¿æ˜“ã®ç†è«–å®¶',
                    question: 'å¼±å°å›½ã¯è²¿æ˜“ã—ã¦ã‚‚æã™ã‚‹ã ã‘ã‹ï¼Ÿ',
                    answer: 'é•ã†ã€‚ã€Œæ¯”è¼ƒå„ªä½ã€ãŒã‚ã‚Œã°ã€åŒæ–¹ãŒå¾—ã‚’ã™ã‚‹ã€‚',
                    detail: 'ãŸã¨ãˆå…¨ã¦ã®è£½å“ã§Aå›½ãŒBå›½ã‚ˆã‚Šå„ªã‚Œã¦ã„ã¦ã‚‚ã€Aå›½ã¯ã€Œæœ€ã‚‚å¾—æ„ãªã‚‚ã®ã€ã«ç‰¹åŒ–ã—ã€Bå›½ã¯ã€Œãƒã‚·ãªã‚‚ã®ã€ã«ç‰¹åŒ–ã—ã¦äº¤æ›ã™ã‚Œã°ã€ä¸¡å›½ã¨ã‚‚è±Šã‹ã«ãªã‚Œã‚‹ã€‚è‡ªç”±è²¿æ˜“ã®æ•°å­¦çš„æ ¹æ‹ ã€‚',
                    connection: 'ã‚¹ãƒŸã‚¹ã®å¾Œç¶™è€…ã€‚',
                    diagramType: 'comparative_advantage',
                    diagramContent: { countryA: 'ãƒ¯ã‚¤ãƒ³ã«ç‰¹åŒ–', countryB: 'å¸ƒã«ç‰¹åŒ–', result: 'Win-Win' }
                },
                {
                    id: 'malthus',
                    name: 'ãƒˆãƒã‚¹ãƒ»ãƒãƒ«ã‚µã‚¹',
                    title: 'é™°é¬±ãªç§‘å­¦è€…',
                    question: 'äººé¡ã¯è±Šã‹ã«ãªã‚Šç¶šã‘ã‚‰ã‚Œã‚‹ã‹ï¼Ÿ',
                    answer: 'ç„¡ç†ã ã€‚äººå£ã¯å¹¾ä½•ç´šæ•°çš„ã«å¢—ãˆã‚‹ãŒã€é£Ÿæ–™ã¯ç®—è¡“ç´šæ•°çš„ã«ã—ã‹å¢—ãˆãªã„ã€‚',
                    detail: 'ã€äººå£è«–ã€ã€‚è²§å›°ã¯ç¤¾ä¼šåˆ¶åº¦ã®ã›ã„ã§ã¯ãªãè‡ªç„¶ã®æ³•å‰‡ã§ã‚ã‚‹ã¨ã—ãŸã€‚äººå£éå‰°ã¯è²§å›°ã‚„é£¢é¤“ã«ã‚ˆã£ã¦å¼·åˆ¶çš„ã«èª¿æ•´ã•ã‚Œã‚‹ã¨ã„ã†ãƒšã‚·ãƒŸã‚¹ãƒ†ã‚£ãƒƒã‚¯ãªäºˆæ¸¬ã‚’è¡Œã£ãŸã€‚ãƒ€ãƒ¼ã‚¦ã‚£ãƒ³ã«å½±éŸ¿ã‚’ä¸ãˆãŸã€‚',
                    connection: 'å¤å…¸æ´¾ã®æ‚²è¦³çš„å´é¢ã€‚',
                    diagramType: 'malthus_curve',
                    diagramContent: null
                }
            ],
            neoclassical: [
                {
                    id: 'walras',
                    name: 'ãƒ¬ã‚ªãƒ³ãƒ»ãƒ¯ãƒ«ãƒ©ã‚¹',
                    title: 'ä¸€èˆ¬å‡è¡¡ã®çˆ¶',
                    question: 'å¸‚å ´ã®ä¾¡æ ¼ã¯ã©ã†ã‚„ã£ã¦æ±ºã¾ã‚‹ã®ã‹ï¼Ÿ',
                    answer: 'ã™ã¹ã¦ã®å¸‚å ´ã®éœ€è¦ã¨ä¾›çµ¦ãŒä¸€è‡´ã™ã‚‹ã€Œå‡è¡¡ç‚¹ã€ãŒå­˜åœ¨ã™ã‚‹ã€‚',
                    detail: 'çµŒæ¸ˆå­¦ã‚’ç‰©ç†å­¦ã®ã‚ˆã†ãªæ•°å­¦çš„ãƒ¢ãƒ‡ãƒ«ï¼ˆä¸€èˆ¬å‡è¡¡ç†è«–ï¼‰ã«ã—ãŸã€‚ç«¶å£²äººï¼ˆã‚ªãƒ¼ã‚¯ã‚·ãƒ§ãƒ‹ã‚¢ï¼‰ãŒä¾¡æ ¼ã‚’å«ã³ã€éœ€çµ¦ãŒä¸€è‡´ã™ã‚‹ã¾ã§èª¿æ•´ã•ã‚Œã‚‹ãƒ¢ãƒ‡ãƒ«ã‚’æ§‹æƒ³ã€‚',
                    connection: 'ãƒ­ãƒ¼ã‚¶ãƒ³ãƒŒå­¦æ´¾ã€‚é™ç•Œé©å‘½ã®ä¸€ç¿¼ã€‚',
                    diagramType: 'equilibrium',
                    diagramContent: null
                },
                {
                    id: 'marshall',
                    name: 'ã‚¢ãƒ«ãƒ•ãƒ¬ãƒƒãƒ‰ãƒ»ãƒãƒ¼ã‚·ãƒ£ãƒ«',
                    title: 'æ–°å¤å…¸æ´¾ã®å¤§å®¶',
                    question: 'ä¾¡æ ¼ã‚’æ±ºã‚ã‚‹ã®ã¯ã€Œã‚³ã‚¹ãƒˆã€ã‹ã€Œæ¬²ã—ã•ã€ã‹ï¼Ÿ',
                    answer: 'ä¸¡æ–¹ã ã€‚ãƒã‚µãƒŸã®2æšã®åˆƒã®ã‚ˆã†ã«ã€ä¾›çµ¦ï¼ˆã‚³ã‚¹ãƒˆï¼‰ã¨éœ€è¦ï¼ˆåŠ¹ç”¨ï¼‰ã§æ±ºã¾ã‚‹ã€‚',
                    detail: 'å¤å…¸æ´¾ï¼ˆã‚³ã‚¹ãƒˆèª¬ï¼‰ã¨é™ç•ŒåŠ¹ç”¨æ´¾ï¼ˆéœ€è¦èª¬ï¼‰ã‚’çµ±åˆã—ã€ç¾ä»£ã®ãƒŸã‚¯ãƒ­çµŒæ¸ˆå­¦ã®åŸºç¤ã§ã‚ã‚‹ã€Œéœ€è¦ä¾›çµ¦æ›²ç·šï¼ˆXå‹ã®ã‚°ãƒ©ãƒ•ï¼‰ã€ã‚’å®šç€ã•ã›ãŸã€‚',
                    connection: 'ã‚±ãƒ³ãƒ–ãƒªãƒƒã‚¸å­¦æ´¾ã®å§‹ç¥–ã€‚ã‚±ã‚¤ãƒ³ã‚ºã®å¸«ã€‚',
                    diagramType: 'supply_demand',
                    diagramContent: null
                }
            ],
            marxist: [
                {
                    id: 'marx',
                    name: 'ã‚«ãƒ¼ãƒ«ãƒ»ãƒãƒ«ã‚¯ã‚¹',
                    title: 'è³‡æœ¬è«–',
                    question: 'ãªãœè³‡æœ¬å®¶ã¯å„²ã‹ã‚Šã€åŠ´åƒè€…ã¯è²§ã—ã„ã¾ã¾ãªã®ã‹ï¼Ÿ',
                    answer: 'åŠ´åƒè€…ãŒç”Ÿã‚“ã ä¾¡å€¤ã®ä¸€éƒ¨ï¼ˆå‰°ä½™ä¾¡å€¤ï¼‰ã‚’ã€è³‡æœ¬å®¶ãŒæ¾å–ã—ã¦ã„ã‚‹ã‹ã‚‰ã ã€‚',
                    detail: 'åŠ´åƒä¾¡å€¤èª¬ã«åŸºã¥ãã€åˆ©ç›Šã®æºæ³‰ã¯ã€Œä¸æ‰•ã„åŠ´åƒã€ã«ã‚ã‚‹ã¨èª¬ã„ãŸã€‚è³‡æœ¬ä¸»ç¾©ã¯å¿…ç„¶çš„ã«ææ…Œã‚’ç¹°ã‚Šè¿”ã—ã€æ ¼å·®ãŒæ‹¡å¤§ã—ã€æœ€çµ‚çš„ã«é©å‘½ã«ã‚ˆã£ã¦å´©å£Šã™ã‚‹ã¨ç§‘å­¦çš„ã«åˆ†æã—ãŸã€‚',
                    connection: 'ãƒªã‚«ãƒ¼ãƒ‰åŠ´åƒä¾¡å€¤èª¬ã®æ‰¹åˆ¤çš„ç¶™æ‰¿ã€‚',
                    diagramType: 'surplus_value',
                    diagramContent: { total: 'å…¨ä¾¡å€¤', wage: 'è³ƒé‡‘', surplus: 'æ¾å–(åˆ©ç›Š)' }
                }
            ],
            keynesian: [
                {
                    id: 'keynes',
                    name: 'J.M. ã‚±ã‚¤ãƒ³ã‚º',
                    title: 'ãƒã‚¯ãƒ­çµŒæ¸ˆå­¦ã®çˆ¶',
                    question: 'ä¸æ³ã®æ™‚ã€æ”¾ã£ã¦ãŠã‘ã°å¸‚å ´ã¯å›å¾©ã™ã‚‹ã‹ï¼Ÿ',
                    answer: 'å›å¾©ã—ãªã„ã€‚ã€Œé•·æœŸçš„ã«ã¯æˆ‘ã€…ã¯ã¿ãªæ­»ã‚“ã§ã„ã‚‹ã€ã€‚æ”¿åºœãŒä»‹å…¥ã™ã¹ãã ã€‚',
                    detail: 'ã€ä¸€èˆ¬ç†è«–ã€ã€‚ä¸æ³ã®åŸå› ã¯ã€Œéœ€è¦ä¸è¶³ï¼ˆæœ‰åŠ¹éœ€è¦ï¼‰ã€ã«ã‚ã‚‹ã¨ã—ã€æ”¿åºœãŒå…¬å…±äº‹æ¥­ãªã©ã§ç„¡ç†ã‚„ã‚Šéœ€è¦ã‚’ä½œã‚Šå‡ºã™ã“ã¨ã§é›‡ç”¨ã‚’å®ˆã‚‹ã¹ãã ã¨èª¬ã„ãŸã€‚ä¿®æ­£è³‡æœ¬ä¸»ç¾©ã¸ã®è»¢æ›ã€‚',
                    connection: 'ä¸–ç•Œææ…Œã¸ã®å‡¦æ–¹ç®‹ã€‚',
                    diagramType: 'public_spending',
                    diagramContent: null
                }
            ],
            libertarian: [
                {
                    id: 'friedman',
                    name: 'ãƒŸãƒ«ãƒˆãƒ³ãƒ»ãƒ•ãƒªãƒ¼ãƒ‰ãƒãƒ³',
                    title: 'å¸‚å ´ã®è‡ªç”±ã®å®ˆè­·è€…',
                    question: 'æ”¿åºœã®ä»‹å…¥ã¯çµŒæ¸ˆã‚’è‰¯ãã™ã‚‹ã‹ï¼Ÿ',
                    answer: 'å¦ã€‚æ”¿åºœã¯ç„¡èƒ½ã ã€‚é€šè²¨ä¾›çµ¦é‡ï¼ˆãƒãƒãƒ¼ï¼‰ã ã‘ç®¡ç†ã—ã¦ã€ã‚ã¨ã¯å¸‚å ´ã«ä»»ã›ã‚ã€‚',
                    detail: 'ã‚±ã‚¤ãƒ³ã‚ºæ”¿ç­–ã‚’æ‰¹åˆ¤ï¼ˆã‚¹ã‚¿ã‚°ãƒ•ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’äºˆè¨€ï¼‰ã€‚ã€Œå°ã•ãªæ”¿åºœã€ã¨ã€Œè‡ªç”±å¸‚å ´ã€ã‚’æ²ã’ã€è¦åˆ¶ç·©å’Œã‚„æ°‘å–¶åŒ–ã‚’æ¨é€²ã—ãŸã€‚ãƒãƒã‚¿ãƒªã‚ºãƒ ã®ä¸»å°è€…ã€‚',
                    connection: 'ã‚·ã‚«ã‚´å­¦æ´¾ã€‚ãƒ¬ãƒ¼ã‚¬ãƒ³ãƒ»ã‚µãƒƒãƒãƒ£ãƒ¼æ”¹é©ã«å½±éŸ¿ã€‚',
                    diagramType: 'small_gov',
                    diagramContent: null
                },
                {
                    id: 'hayek',
                    name: 'F.A. ãƒã‚¤ã‚¨ã‚¯',
                    title: 'è‡ªç”Ÿçš„ç§©åº',
                    question: 'ç¤¾ä¼šä¸»ç¾©ï¼ˆè¨ˆç”»çµŒæ¸ˆï¼‰ã¯ãªãœå¤±æ•—ã™ã‚‹ã®ã‹ï¼Ÿ',
                    answer: 'ã€ŒçŸ¥è­˜ã€ã¯åˆ†æ•£ã—ã¦ãŠã‚Šã€ä¸­å¤®æ”¿åºœãŒã™ã¹ã¦ã‚’çŸ¥ã‚‹ã“ã¨ã¯ä¸å¯èƒ½ã ã‹ã‚‰ã ã€‚',
                    detail: 'å¸‚å ´ä¾¡æ ¼ã¯ã€ç„¡æ•°ã®äººã€…ã®çŸ¥è­˜ã¨æƒ…å ±ã‚’å‡ç¸®ã—ãŸé€šä¿¡ã‚·ã‚¹ãƒ†ãƒ ã§ã‚ã‚‹ã€‚ã“ã‚Œã‚’äººç‚ºçš„ã«æ“ä½œã—ã‚ˆã†ã¨ã™ã‚‹è¨ˆç”»çµŒæ¸ˆã¯ã€Œè‡´å‘½çš„ãªæ€ã„ä¸ŠãŒã‚Šã€ã§ã‚ã‚Šã€ç‹¬è£ã¸ã®é“ï¼ˆéš·å±ã¸ã®é“ï¼‰ã§ã‚ã‚‹ã¨è­¦å‘Šã—ãŸã€‚',
                    connection: 'ã‚ªãƒ¼ã‚¹ãƒˆãƒªã‚¢å­¦æ´¾ã€‚ãƒ•ãƒªãƒ¼ãƒ‰ãƒãƒ³ã¨ä¸¦ã¶è‡ªç”±ä¸»ç¾©ã®å·¨é ­ã€‚',
                    diagramType: 'dispersed_knowledge',
                    diagramContent: null
                }
            ],
            game: [
                {
                    id: 'nash',
                    name: 'ã‚¸ãƒ§ãƒ³ãƒ»ãƒŠãƒƒã‚·ãƒ¥',
                    title: 'ã‚²ãƒ¼ãƒ ç†è«–ã®å¤©æ‰',
                    question: 'å…¨å“¡ãŒè‡ªåˆ†ã®åˆ©ç›Šã‚’è¿½æ±‚ã—ãŸæ™‚ã€æœ€é©ãªçµæœã«ãªã‚‹ã‹ï¼Ÿ',
                    answer: 'å¿…ãšã—ã‚‚ãªã‚‰ãªã„ï¼ˆå›šäººã®ã‚¸ãƒ¬ãƒ³ãƒï¼‰ã€‚ã ãŒã€Œå‡è¡¡ç‚¹ã€ã¯ã‚ã‚‹ã€‚',
                    detail: 'ã‚¹ãƒŸã‚¹ã®ã€Œè¦‹ãˆã–ã‚‹æ‰‹ï¼ˆå€‹äººã®åˆ©ç›Šï¼å…¨ä½“ã®åˆ©ç›Šï¼‰ã€ãŒæˆç«‹ã—ãªã„çŠ¶æ³ã‚’æ•°ç†çš„ã«è¨¼æ˜ã€‚äº’ã„ã«ç›¸æ‰‹ã®å‡ºæ–¹ã‚’èª­ã¿åˆã£ãŸçµæœã€èª°ã‚‚æˆ¦ç•¥ã‚’å¤‰ãˆã‚ˆã†ã¨ã—ãªã„è† ç€çŠ¶æ…‹ï¼ˆãƒŠãƒƒã‚·ãƒ¥å‡è¡¡ï¼‰ã‚’ç¤ºã—ãŸã€‚',
                    connection: 'æ˜ ç”»ã€ãƒ“ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ•ãƒ«ãƒ»ãƒã‚¤ãƒ³ãƒ‰ã€ã®ãƒ¢ãƒ‡ãƒ«ã€‚',
                    diagramType: 'nash_equilibrium',
                    diagramContent: { p1: 'è‡ªç™½', p2: 'è‡ªç™½', result: 'å…±ã«æœå½¹ (å‡è¡¡)' }
                }
            ],
            behavioral: [
                {
                    id: 'kahneman',
                    name: 'ãƒ€ãƒ‹ã‚¨ãƒ«ãƒ»ã‚«ãƒ¼ãƒãƒãƒ³',
                    title: 'è¡Œå‹•çµŒæ¸ˆå­¦ã®å‰µå§‹è€…',
                    question: 'äººé–“ã¯å¸¸ã«åˆç†çš„ãªåˆ¤æ–­ã‚’ã™ã‚‹ã‹ï¼Ÿ',
                    answer: 'ã—ãªã„ã€‚äººé–“ã¯æ„Ÿæƒ…ã‚„ãƒã‚¤ã‚¢ã‚¹ã§å‹•ãã€Œé™å®šåˆç†çš„ã€ãªå­˜åœ¨ã ã€‚',
                    detail: 'å¿ƒç†å­¦ã‚’çµŒæ¸ˆå­¦ã«å°å…¥ã€‚ã€Œãƒ—ãƒ­ã‚¹ãƒšã‚¯ãƒˆç†è«–ã€ã§ã¯ã€äººé–“ã¯åˆ©ç›Šã®å–œã³ã‚ˆã‚Šæå¤±ã®ç—›ã¿ã‚’å¤§ããæ„Ÿã˜ã‚‹ã“ã¨ï¼ˆæå¤±å›é¿ï¼‰ã‚’è¨¼æ˜ã—ã€ãƒ›ãƒ¢ãƒ»ã‚¨ã‚³ãƒãƒŸã‚¯ã‚¹ï¼ˆåˆç†çš„çµŒæ¸ˆäººï¼‰ã®ç¥è©±ã‚’å´©ã—ãŸã€‚',
                    connection: 'å¿ƒç†å­¦è€…ã¨ã—ã¦åˆã®ãƒãƒ¼ãƒ™ãƒ«çµŒæ¸ˆå­¦è³ã€‚',
                    diagramType: 'prospect_curve',
                    diagramContent: null
                },
                {
                    id: 'sen',
                    name: 'ã‚¢ãƒãƒ«ãƒ†ã‚£ã‚¢ãƒ»ã‚»ãƒ³',
                    title: 'çµŒæ¸ˆå­¦ã®è‰¯å¿ƒ',
                    question: 'ã€Œè²§å›°ã€ã¨ã¯å˜ã«ãŠé‡‘ãŒãªã„ã“ã¨ã‹ï¼Ÿ',
                    answer: 'é•ã†ã€‚ãã‚Œã¯ã€Œã‚±ã‚¤ãƒ‘ãƒ“ãƒªãƒ†ã‚£ï¼ˆã§ãã‚‹ã“ã¨ï¼‰ã€ã®æ¬ å¦‚ã§ã‚ã‚‹ã€‚',
                    detail: 'GDPã®å¢—å¤§ã‚ˆã‚Šã‚‚ã€äººã€…ãŒå¥åº·ã§æ•™è‚²ã‚’å—ã‘ã€è‡ªç”±ã«ç”Ÿãã‚‰ã‚Œã‚‹ã‹ï¼ˆæ½œåœ¨èƒ½åŠ›ï¼‰ã‚’é‡è¦–ã™ã¹ãã ã¨ã—ãŸã€‚HDIï¼ˆäººé–“é–‹ç™ºæŒ‡æ•°ï¼‰ã®åŸºç¤ã‚’ä½œã£ãŸã€‚',
                    connection: 'åšç”ŸçµŒæ¸ˆå­¦ã€‚ã‚¢ã‚¸ã‚¢åˆãƒãƒ¼ãƒ™ãƒ«çµŒæ¸ˆå­¦è³ã€‚',
                    diagramType: 'capability',
                    diagramContent: null
                },
                {
                    id: 'piketty',
                    name: 'ãƒˆãƒãƒ»ãƒ”ã‚±ãƒ†ã‚£',
                    title: '21ä¸–ç´€ã®è³‡æœ¬è«–',
                    question: 'è³‡æœ¬ä¸»ç¾©ã«ãŠã„ã¦ã€æ ¼å·®ã¯è‡ªç„¶ã«è§£æ¶ˆã•ã‚Œã‚‹ã‹ï¼Ÿ',
                    answer: 'è§£æ¶ˆã•ã‚Œãªã„ã€‚ã€Œr > gã€ã§ã‚ã‚‹é™ã‚Šã€é‡‘æŒã¡ã¯ã‚ˆã‚Šé‡‘æŒã¡ã«ãªã‚‹ã€‚',
                    detail: 'è†¨å¤§ãªãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æã—ã€è³‡æœ¬åç›Šç‡ï¼ˆrï¼‰ã¯çµŒæ¸ˆæˆé•·ç‡ï¼ˆgï¼‰ã‚ˆã‚Šã‚‚å¸¸ã«é«˜ã„ã“ã¨ã‚’è¨¼æ˜ã€‚ã¤ã¾ã‚Šã€æ±—æ°´ãŸã‚‰ã—ã¦åƒãã‚ˆã‚Šã€è³‡ç”£é‹ç”¨ã®ã»ã†ãŒå„²ã‹ã‚‹ãŸã‚ã€æ”¾ç½®ã™ã‚Œã°æ ¼å·®ã¯ç„¡é™ã«æ‹¡å¤§ã™ã‚‹ã¨è­¦å‘Šã—ãŸã€‚',
                    connection: 'ç¾ä»£ã®ãƒãƒ«ã‚¯ã‚¹ã¨ã‚‚å‘¼ã°ã‚Œã‚‹ã€‚',
                    diagramType: 'r_g_inequality',
                    diagramContent: null
                }
            ]
        };
        
        // ============================================================================
        // STATE
        // ============================================================================
        
        let selectedEra = 'classical';
        let selectedEconomist = null;
        
        // ============================================================================
        // DIAGRAM BUILDER
        // ============================================================================
        
        function buildDiagram(type, content) {
            const container = document.createElement('div');
            container.className = 'diagram-container';
            
            switch (type) {
                case 'invisible_hand':
                    container.innerHTML = `
                        <div class="diagram-invisible-hand">
                            <div class="hand">ğŸ¤š</div>
                            <div class="flow">
                                <div class="box">å€‹äººã®åˆ©å·±å¿ƒ</div>
                                <div class="arrow">â†’</div>
                                <div class="box">ç¤¾ä¼šã®ç¹æ „</div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'comparative_advantage':
                    container.innerHTML = `
                        <div class="diagram-comparative-advantage">
                            <div class="country country-a">${content.countryA}</div>
                            <div class="country country-b">${content.countryB}</div>
                            <div class="result">${content.result}</div>
                        </div>
                    `;
                    break;
                    
                case 'malthus_curve':
                    container.innerHTML = `
                        <div class="diagram-malthus-curve">
                            <div>
                                <div class="line population"></div>
                                <div class="label">äººå£ï¼ˆå¹¾ä½•ç´šæ•°ï¼‰</div>
                            </div>
                            <div>
                                <div class="line food"></div>
                                <div class="label">é£Ÿæ–™ï¼ˆç®—è¡“ç´šæ•°ï¼‰</div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'equilibrium':
                    container.innerHTML = `
                        <div class="diagram-equilibrium">
                            <div class="line supply"></div>
                            <div class="line demand"></div>
                            <div class="point"></div>
                        </div>
                    `;
                    break;
                    
                case 'supply_demand':
                    container.innerHTML = `
                        <div class="diagram-supply-demand">
                            <div class="scissors">âœ‚ï¸</div>
                            <div class="blades">
                                <div class="blade supply">ä¾›çµ¦ï¼ˆã‚³ã‚¹ãƒˆï¼‰</div>
                                <div class="blade demand">éœ€è¦ï¼ˆåŠ¹ç”¨ï¼‰</div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'surplus_value':
                    container.innerHTML = `
                        <div class="diagram-surplus-value">
                            <div class="bar">
                                <div class="wage">è³ƒé‡‘</div>
                                <div class="surplus">å‰°ä½™ä¾¡å€¤</div>
                            </div>
                            <div class="label">åŠ´åƒè€…ã®ç”Ÿç”£ä¾¡å€¤</div>
                        </div>
                    `;
                    break;
                    
                case 'public_spending':
                    container.innerHTML = `
                        <div class="diagram-public-spending">
                            <div class="gov">ğŸ›ï¸</div>
                            <div class="arrows">
                                <div class="arrow">â†“</div>
                                <div class="arrow">â†“</div>
                            </div>
                            <div class="boxes">
                                <div class="box">å…¬å…±äº‹æ¥­</div>
                                <div class="box">é›‡ç”¨å‰µå‡º</div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'small_gov':
                    container.innerHTML = `
                        <div class="diagram-small-gov">
                            <div class="comparison">
                                <div class="gov-big">ğŸ›ï¸</div>
                                <div class="vs">âŒ</div>
                            </div>
                            <div class="comparison">
                                <div class="gov-small">ğŸ›ï¸</div>
                                <div class="vs">âœ…</div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'dispersed_knowledge':
                    container.innerHTML = `
                        <div class="diagram-dispersed-knowledge">
                            <div class="center">ğŸ›ï¸</div>
                            <div class="node">ğŸ‘¤</div>
                            <div class="node">ğŸ‘¤</div>
                            <div class="node">ğŸ‘¤</div>
                            <div class="node">ğŸ‘¤</div>
                            <div class="node">ğŸ‘¤</div>
                            <div class="node">ğŸ‘¤</div>
                        </div>
                    `;
                    break;
                    
                case 'nash_equilibrium':
                    container.innerHTML = `
                        <div class="diagram-nash-equilibrium">
                            <div class="table">
                                <div class="cell header"></div>
                                <div class="cell header">é»™ç§˜</div>
                                <div class="cell header">è‡ªç™½</div>
                                <div class="cell header">é»™ç§˜</div>
                                <div class="cell">ä¸¡è€…-1å¹´</div>
                                <div class="cell">A:-10å¹´ B:é‡ˆæ”¾</div>
                                <div class="cell header">è‡ªç™½</div>
                                <div class="cell">A:é‡ˆæ”¾ B:-10å¹´</div>
                                <div class="cell equilibrium">ä¸¡è€…-5å¹´<br/>ï¼ˆå‡è¡¡ï¼‰</div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'prospect_curve':
                    container.innerHTML = `
                        <div class="diagram-prospect-curve">
                            <div class="curve">
                                <div class="gain">+åˆ©ç›Š</div>
                                <div class="loss">-æå¤±<br/>(å¼·ãæ„Ÿã˜ã‚‹)</div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'capability':
                    container.innerHTML = `
                        <div class="diagram-capability">
                            <div class="item gdp">GDP: ãŠé‡‘ãŒã‚ã‚‹ã‹</div>
                            <div class="item cap">ã‚±ã‚¤ãƒ‘ãƒ“ãƒªãƒ†ã‚£:<br/>å¥åº·ãƒ»æ•™è‚²ãƒ»è‡ªç”±ãŒã‚ã‚‹ã‹</div>
                        </div>
                    `;
                    break;
                    
                case 'r_g_inequality':
                    container.innerHTML = `
                        <div class="diagram-r-g-inequality">
                            <div class="formula">r > g</div>
                            <div class="explanation">
                                <div class="box r">r<br/>è³‡æœ¬åç›Šç‡</div>
                                <div class="box g">g<br/>çµŒæ¸ˆæˆé•·ç‡</div>
                            </div>
                        </div>
                    `;
                    break;
                    
                default:
                    container.innerHTML = '<div style="color: #9ca3af;">å›³è§£æº–å‚™ä¸­</div>';
            }
            
            return container;
        }
        
        // ============================================================================
        // RENDER FUNCTIONS
        // ============================================================================
        
        function renderEras() {
            const sidebar = document.getElementById('eraSidebar');
            sidebar.innerHTML = '';
            
            ERAS.forEach(era => {
                const item = document.createElement('div');
                item.className = 'era-item' + (era.id === selectedEra ? ' active' : '');
                item.onclick = () => selectEra(era.id);
                
                item.innerHTML = `
                    <div class="era-icon">${era.icon}</div>
                    <div class="era-info">
                        <div class="era-title">${era.title}</div>
                        <div class="era-period">${era.period}</div>
                    </div>
                `;
                
                sidebar.appendChild(item);
            });
        }
        
        function renderEconomists() {
            const grid = document.getElementById('economistGrid');
            const economists = ECONOMISTS[selectedEra] || [];
            
            grid.innerHTML = '<div class="grid-container"></div>';
            const container = grid.querySelector('.grid-container');
            
            economists.forEach(economist => {
                const card = document.createElement('div');
                card.className = 'economist-card' + (selectedEconomist && selectedEconomist.id === economist.id ? ' selected' : '');
                card.onclick = () => selectEconomist(economist);
                
                card.innerHTML = `
                    <div class="economist-name">${economist.name}</div>
                    <div class="economist-title">${economist.title}</div>
                    <div class="economist-question">${economist.question}</div>
                `;
                
                container.appendChild(card);
            });
        }
        
        function renderDetail() {
            const area = document.getElementById('detailArea');
            area.innerHTML = '';
            
            if (!selectedEconomist) {
                area.innerHTML = '<div class="empty-state">çµŒæ¸ˆå­¦è€…ã‚’é¸æŠã—ã¦ãã ã•ã„</div>';
                return;
            }
            
            const card = document.createElement('div');
            card.className = 'detail-card';
            
            // Header
            const header = document.createElement('div');
            header.className = 'detail-header';
            header.innerHTML = `
                <div class="detail-name">${selectedEconomist.name}</div>
                <div class="detail-title">${selectedEconomist.title}</div>
            `;
            card.appendChild(header);
            
            // Question
            const question = document.createElement('div');
            question.className = 'detail-section';
            question.innerHTML = `
                <h3 class="question">â“ å•ã„</h3>
                <p>${selectedEconomist.question}</p>
            `;
            card.appendChild(question);
            
            // Answer
            const answer = document.createElement('div');
            answer.className = 'detail-section';
            answer.innerHTML = `
                <h3 class="answer">ğŸ’¡ ç­”ãˆ</h3>
                <p class="answer-text">${selectedEconomist.answer}</p>
            `;
            card.appendChild(answer);
            
            // Detail
            const detail = document.createElement('div');
            detail.className = 'detail-section';
            detail.innerHTML = `
                <h3 class="detail">ğŸ“– è©³ç´°</h3>
                <p class="detail-text">${selectedEconomist.detail}</p>
            `;
            card.appendChild(detail);
            
            // Connection
            const connection = document.createElement('div');
            connection.className = 'detail-section';
            connection.innerHTML = `
                <h3 class="connection">ğŸ”— ç³»è­œ</h3>
                <p class="connection-text">${selectedEconomist.connection}</p>
            `;
            card.appendChild(connection);
            
            // Diagram
            const diagramSection = document.createElement('div');
            diagramSection.className = 'detail-section';
            const diagramHeader = document.createElement('h3');
            diagramHeader.className = 'diagram';
            diagramHeader.textContent = 'ğŸ“Š å›³è§£';
            diagramSection.appendChild(diagramHeader);
            
            const diagram = buildDiagram(selectedEconomist.diagramType, selectedEconomist.diagramContent);
            diagramSection.appendChild(diagram);
            card.appendChild(diagramSection);
            
            area.appendChild(card);
            area.scrollTop = 0;
        }
        
        // ============================================================================
        // EVENT HANDLERS
        // ============================================================================
        
        function selectEra(eraId) {
            selectedEra = eraId;
            const economists = ECONOMISTS[selectedEra] || [];
            selectedEconomist = economists.length > 0 ? economists[0] : null;
            
            renderEras();
            renderEconomists();
            renderDetail();
        }
        
        function selectEconomist(economist) {
            selectedEconomist = economist;
            renderEconomists();
            renderDetail();
        }
        
        // ============================================================================
        // INITIALIZATION
        // ============================================================================
        
        document.addEventListener('DOMContentLoaded', function() {
            const economists = ECONOMISTS[selectedEra] || [];
            selectedEconomist = economists.length > 0 ? economists[0] : null;
            
            renderEras();
            renderEconomists();
            renderDetail();
        });
    </script>
</body>
</html>
