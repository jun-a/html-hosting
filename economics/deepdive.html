<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çµŒæ¸ˆå­¦å›³é‘‘ è©³ç´°ç‰ˆ - Economics Illustrated Book Deep Dive</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // Lucide React icons (inline SVG components)
        const TrendingUp = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                <polyline points="17 6 23 6 23 12"></polyline>
            </svg>
        );
        
        const DollarSign = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <line x1="12" y1="1" x2="12" y2="23"></line>
                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
            </svg>
        );
        
        const Anchor = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <circle cx="12" cy="5" r="3"></circle>
                <line x1="12" y1="22" x2="12" y2="8"></line>
                <path d="M5 12H2a10 10 0 0 0 20 0h-3"></path>
            </svg>
        );
        
        const BarChart2 = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <line x1="18" y1="20" x2="18" y2="10"></line>
                <line x1="12" y1="20" x2="12" y2="4"></line>
                <line x1="6" y1="20" x2="6" y2="14"></line>
            </svg>
        );
        
        const Box = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                <line x1="12" y1="22.08" x2="12" y2="12"></line>
            </svg>
        );
        
        const Zap = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
            </svg>
        );
        
        const LayoutGrid = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <rect x="3" y="3" width="7" height="7"></rect>
                <rect x="14" y="3" width="7" height="7"></rect>
                <rect x="14" y="14" width="7" height="7"></rect>
                <rect x="3" y="14" width="7" height="7"></rect>
            </svg>
        );
        
        const PieChart = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path>
                <path d="M22 12A10 10 0 0 0 12 2v10z"></path>
            </svg>
        );
        
        const ArrowRight = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <line x1="5" y1="12" x2="19" y2="12"></line>
                <polyline points="12 5 19 12 12 19"></polyline>
            </svg>
        );
        
        const ArrowLeft = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <line x1="19" y1="12" x2="5" y2="12"></line>
                <polyline points="12 19 5 12 12 5"></polyline>
            </svg>
        );
        
        const Home = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                <polyline points="9 22 9 12 15 12 15 22"></polyline>
            </svg>
        );
        
        // ----------------------------------------------------------------------------
        // DATA STRUCTURE (çµŒæ¸ˆå­¦è€…ã®ãƒ‡ãƒ¼ã‚¿)
        // ----------------------------------------------------------------------------
        
        const ERAS = [
            { id: 'classical', title: 'å¤å…¸æ´¾ï¼šå¯Œã®æºæ³‰', period: '1776 - 1870', icon: <Anchor size={18} /> },
            { id: 'neoclassical', title: 'æ–°å¤å…¸æ´¾ï¼šé™ç•Œé©å‘½', period: '1870 - 1930', icon: <BarChart2 size={18} /> },
            { id: 'marxist', title: 'ãƒãƒ«ã‚¯ã‚¹çµŒæ¸ˆå­¦', period: '1867 - 1920', icon: <Box size={18} /> },
            { id: 'keynesian', title: 'ã‚±ã‚¤ãƒ³ã‚ºé©å‘½ï¼šå·¨è¦–', period: '1936 - 1970', icon: <TrendingUp size={18} /> },
            { id: 'libertarian', title: 'æ–°è‡ªç”±ä¸»ç¾©ï¼šå¸‚å ´é‡è¦–', period: '1970 - 2000', icon: <Zap size={18} /> },
            { id: 'game', title: 'ã‚²ãƒ¼ãƒ ç†è«–ã¨åˆ¶åº¦', period: '1950 - Present', icon: <LayoutGrid size={18} /> },
            { id: 'behavioral', title: 'ç¾ä»£ï¼šè¡Œå‹•ã¨æ ¼å·®', period: '1990 - Present', icon: <PieChart size={18} /> },
        ];
        
        const ECONOMISTS = {
            // --- CLASSICAL ---
            classical: [
                {
                    id: 'smith',
                    name: 'ã‚¢ãƒ€ãƒ ãƒ»ã‚¹ãƒŸã‚¹',
                    title: 'çµŒæ¸ˆå­¦ã®çˆ¶',
                    question: 'å›½ã®å¯Œã¨ã¯ä½•ã‹ã€ã©ã†ã™ã‚Œã°å¢—ã‚„ã›ã‚‹ã‹ï¼Ÿ',
                    answer: 'å¯Œã¯ã€ŒåŠ´åƒã€ãŒç”Ÿã¿å‡ºã™ã€‚åˆ†æ¥­ã¨å¸‚å ´ã®ã€Œè¦‹ãˆã–ã‚‹æ‰‹ã€ã«ä»»ã›ã‚Œã°è±Šã‹ã«ãªã‚‹ã€‚',
                    detail: 'ã€å›½å¯Œè«–ã€(1776)ã§è¿‘ä»£çµŒæ¸ˆå­¦ã‚’å‰µå§‹ã€‚é‡å•†ä¸»ç¾©ï¼ˆé‡‘ã®è“„ç©ã“ãå¯Œï¼‰ã‚’æ‰¹åˆ¤ã—ã€ç”Ÿç”£åŠ›ã“ããŒå¯Œã®æºæ³‰ã ã¨ã—ãŸã€‚ãƒ”ãƒ³å·¥å ´ã®åˆ†æ¥­ã®ä¾‹ã¯æœ‰åã€‚å„äººãŒåˆ©å·±å¿ƒã«å¾“ã£ã¦è¡Œå‹•ã™ã‚Œã°ã€è¦‹ãˆã–ã‚‹æ‰‹ã«å°ã‹ã‚Œã¦ç¤¾ä¼šå…¨ä½“ã®åˆ©ç›Šã«ãªã‚‹ã¨ã„ã†æ¥½è¦³è«–ã€‚',
                    connection: 'å¤å…¸æ´¾çµŒæ¸ˆå­¦ã®ç¥–ã€‚ãƒªã‚«ãƒ¼ãƒ‰ã¸ç¶šãã€‚',
                    diagramType: 'invisible_hand',
                    diagramContent: null
                },
                {
                    id: 'ricardo',
                    name: 'ãƒ‡ãƒ´ã‚£ãƒƒãƒ‰ãƒ»ãƒªã‚«ãƒ¼ãƒ‰',
                    title: 'æ¯”è¼ƒå„ªä½ã®ç†è«–å®¶',
                    question: 'è²¿æ˜“ã¯èª°ã«ã¨ã£ã¦å¾—ãªã®ã‹ï¼Ÿ',
                    answer: 'æ¯”è¼ƒå„ªä½ã«åŸºã¥ã„ã¦ç‰¹åŒ–ã™ã‚Œã°ã€åŒæ–¹ãŒå¾—ã‚’ã™ã‚‹ã€‚',
                    detail: 'ãƒ¯ã‚¤ãƒ³ã¨å¸ƒã®ä¾‹ã§ã€ãƒãƒ«ãƒˆã‚¬ãƒ«ãŒã©ã¡ã‚‰ã‚‚å¾—æ„ã§ã‚‚ã€ã‚¤ã‚®ãƒªã‚¹ãŒæ¯”è¼ƒçš„å¾—æ„ãªå¸ƒã«ç‰¹åŒ–ã™ã‚Œã°ä¸¡å›½ãŒåˆ©ç›Šã‚’å¾—ã‚‰ã‚Œã‚‹ã“ã¨ã‚’ç¤ºã—ãŸã€‚åœ°ä»£è«–ã‚„åŠ´åƒä¾¡å€¤èª¬ã‚‚å±•é–‹ã€‚',
                    connection: 'ã‚¹ãƒŸã‚¹ã®å¼Ÿå­ã€‚ãƒãƒ«ã‚¯ã‚¹ã«å½±éŸ¿ã€‚',
                    diagramType: 'comparative_advantage',
                    diagramContent: null
                },
                {
                    id: 'malthus',
                    name: 'ãƒˆãƒã‚¹ãƒ»ãƒãƒ«ã‚µã‚¹',
                    title: 'äººå£è«–ã®æå”±è€…',
                    question: 'äººé¡ã¯æ°¸é ã«è±Šã‹ã«ãªã‚Œã‚‹ã®ã‹ï¼Ÿ',
                    answer: 'ã„ã„ãˆã€‚äººå£ã¯å¹¾ä½•ç´šæ•°çš„ã«å¢—ãˆã‚‹ãŒã€é£Ÿæ–™ã¯ç®—è¡“ç´šæ•°çš„ã«ã—ã‹å¢—ãˆãªã„ã€‚',
                    detail: 'ã€äººå£è«–ã€(1798)ã§ã€äººå£å¢—åŠ ãŒé£Ÿæ–™ç”Ÿç”£ã‚’ä¸Šå›ã‚Šã€å¿…ãšè²§å›°ãƒ»é£¢é¤“ãƒ»æˆ¦äº‰ãŒèµ·ãã‚‹ã¨äºˆæ¸¬ã€‚ã€Œæ‚²è¦³è«–ã®çµŒæ¸ˆå­¦ã€ã¨å‘¼ã°ã‚ŒãŸãŒã€ç”£æ¥­é©å‘½ã§äºˆæ¸¬ã¯å¤–ã‚ŒãŸã€‚ã—ã‹ã—ç’°å¢ƒå•é¡Œã®æ–‡è„ˆã§å†è©•ä¾¡ã•ã‚Œã¦ã„ã‚‹ã€‚',
                    connection: 'ã‚±ã‚¤ãƒ³ã‚ºã®å¸«ã®å¸«ã€‚',
                    diagramType: 'malthus_trap',
                    diagramContent: null
                }
            ],
            
            // --- NEOCLASSICAL ---
            neoclassical: [
                {
                    id: 'jevons',
                    name: 'W.S.ã‚¸ã‚§ãƒ´ã‚©ãƒ³ã‚º',
                    title: 'é™ç•Œé©å‘½ã®å…ˆé§†è€…',
                    question: 'ä¾¡å€¤ã¯ã©ã†ã‚„ã£ã¦æ±ºã¾ã‚‹ã®ã‹ï¼Ÿ',
                    answer: 'åŠ´åƒé‡ã§ã¯ãªãã€æœ€å¾Œã®1å˜ä½ãŒã‚‚ãŸã‚‰ã™ã€Œé™ç•ŒåŠ¹ç”¨ã€ã§æ±ºã¾ã‚‹ã€‚',
                    detail: 'ãƒ¡ãƒ³ã‚¬ãƒ¼ã€ãƒ¯ãƒ«ãƒ©ã‚¹ã¨åŒæ™‚æœŸã«é™ç•ŒåŠ¹ç”¨ç†è«–ã‚’ç™ºè¦‹ã€‚ãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰ã¨æ°´ã®ãƒ‘ãƒ©ãƒ‰ãƒƒã‚¯ã‚¹ï¼ˆæ°´ã¯å½¹ç«‹ã¤ãŒå®‰ã„ã€ãƒ€ã‚¤ãƒ¤ã¯ä¸è¦ã ãŒé«˜ã„ï¼‰ã‚’ã€é™ç•ŒåŠ¹ç”¨ã§èª¬æ˜ã—ãŸã€‚',
                    connection: 'é™ç•Œé©å‘½ï¼ˆ1870å¹´ä»£ï¼‰ã®ä¸‰å·¨é ­ã®ä¸€äººã€‚',
                    diagramType: 'marginal_utility',
                    diagramContent: null
                },
                {
                    id: 'marshall',
                    name: 'ã‚¢ãƒ«ãƒ•ãƒ¬ãƒƒãƒ‰ãƒ»ãƒãƒ¼ã‚·ãƒ£ãƒ«',
                    title: 'æ–°å¤å…¸æ´¾ã®çµ±åˆè€…',
                    question: 'éœ€è¦ã¨ä¾›çµ¦ã¯ã©ã†ãƒãƒ©ãƒ³ã‚¹ã™ã‚‹ã®ã‹ï¼Ÿ',
                    answer: 'ä¾¡æ ¼ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ãŒã€éœ€è¦æ›²ç·šã¨ä¾›çµ¦æ›²ç·šã®äº¤ç‚¹ã§å‡è¡¡ã‚’ã‚‚ãŸã‚‰ã™ã€‚',
                    detail: 'ã€çµŒæ¸ˆå­¦åŸç†ã€(1890)ã§éœ€çµ¦æ›²ç·šã€å¼¾åŠ›æ€§ã€æ¶ˆè²»è€…ä½™å‰°ãªã©ã®æ¦‚å¿µã‚’ä½“ç³»åŒ–ã€‚ã€ŒçŸ­æœŸã¨é•·æœŸã€ã®åŒºåˆ¥ã‚‚å°å…¥ã€‚ã‚±ãƒ³ãƒ–ãƒªãƒƒã‚¸å­¦æ´¾ã®ç¥–ã€‚',
                    connection: 'ã‚±ã‚¤ãƒ³ã‚ºã®å¸«ã€‚',
                    diagramType: 'supply_demand',
                    diagramContent: null
                },
                {
                    id: 'walras',
                    name: 'ãƒ¬ã‚ªãƒ³ãƒ»ãƒ¯ãƒ«ãƒ©ã‚¹',
                    title: 'ä¸€èˆ¬å‡è¡¡ç†è«–',
                    question: 'å¸‚å ´å…¨ä½“ãŒåŒæ™‚ã«å‡è¡¡ã™ã‚‹ã“ã¨ã¯å¯èƒ½ã‹ï¼Ÿ',
                    answer: 'å¯èƒ½ã ã€‚ä¸€èˆ¬å‡è¡¡ç†è«–ã«ã‚ˆã£ã¦ã€ã™ã¹ã¦ã®å¸‚å ´ãŒåŒæ™‚ã«èª¿æ•´ã•ã‚Œã‚‹ã€‚',
                    detail: 'æ•°å­¦ã‚’ç”¨ã„ã¦ã€è¤‡æ•°å¸‚å ´ãŒç›¸äº’ã«å½±éŸ¿ã—åˆã„ãªãŒã‚‰å‡è¡¡ã«é”ã™ã‚‹ä»•çµ„ã¿ã‚’å®šå¼åŒ–ã€‚ç¾ä»£ãƒŸã‚¯ãƒ­çµŒæ¸ˆå­¦ã®åŸºç¤ã‚’ç¯‰ã„ãŸã€‚',
                    connection: 'é™ç•Œé©å‘½ã®ä¸‰å·¨é ­ã€‚ã‚¢ãƒ­ãƒ¼ãƒ»ãƒ‰ãƒ–ãƒªãƒ¥ãƒ¼ã¸ã€‚',
                    diagramType: 'general_equilibrium',
                    diagramContent: null
                }
            ],
            
            // --- MARXIST ---
            marxist: [
                {
                    id: 'marx_econ',
                    name: 'ã‚«ãƒ¼ãƒ«ãƒ»ãƒãƒ«ã‚¯ã‚¹',
                    title: 'å‰°ä½™ä¾¡å€¤ç†è«–',
                    question: 'è³‡æœ¬å®¶ã¯ã©ã†ã‚„ã£ã¦åˆ©ç›Šã‚’å¾—ã‚‹ã®ã‹ï¼Ÿ',
                    answer: 'åŠ´åƒè€…ã®ã€Œå‰°ä½™åŠ´åƒã€ã‚’æ¾å–ã™ã‚‹ã“ã¨ã§åˆ©ç›Šï¼ˆå‰°ä½™ä¾¡å€¤ï¼‰ã‚’å¾—ã‚‹ã€‚',
                    detail: 'ã€è³‡æœ¬è«–ã€(1867-)ã€‚åŠ´åƒã“ããŒä¾¡å€¤ã‚’ç”Ÿã¿å‡ºã™ãŒã€è³‡æœ¬å®¶ã¯åŠ´åƒåŠ›ã‚’å•†å“ã¨ã—ã¦è²·ã„ã€åŠ´åƒè€…ãŒç”Ÿã¿å‡ºã™ä¾¡å€¤ã®ä¸€éƒ¨ã—ã‹è³ƒé‡‘ã¨ã—ã¦æ‰•ã‚ãªã„ã€‚ã“ã®å·®é¡ãŒåˆ©æ½¤ã®æºæ³‰ã€‚è³‡æœ¬ä¸»ç¾©ã®å†…åœ¨çš„çŸ›ç›¾ï¼ˆææ…Œãƒ»å¤±æ¥­ï¼‰ã«ã‚ˆã‚Šã€ã„ãšã‚Œå´©å£Šã™ã‚‹ã¨äºˆè¨€ã€‚',
                    connection: 'ãƒªã‚«ãƒ¼ãƒ‰ã®åŠ´åƒä¾¡å€¤èª¬ã‚’æ‰¹åˆ¤çš„ã«ç¶™æ‰¿ã€‚',
                    diagramType: 'surplus_value',
                    diagramContent: null
                },
                {
                    id: 'lenin',
                    name: 'V.I.ãƒ¬ãƒ¼ãƒ‹ãƒ³',
                    title: 'å¸å›½ä¸»ç¾©è«–',
                    question: 'è³‡æœ¬ä¸»ç¾©ã¯ãªãœå´©å£Šã—ãªã„ã®ã‹ï¼Ÿ',
                    answer: 'æ¤æ°‘åœ°å¸‚å ´ã«é€²å‡ºã—ã€å»¶å‘½ã—ã¦ã„ã‚‹ã ã‘ã ï¼ˆå¸å›½ä¸»ç¾©æ®µéšï¼‰ã€‚',
                    detail: 'ã€å¸å›½ä¸»ç¾©è«–ã€(1916)ã€‚ç‹¬å è³‡æœ¬ã¨é‡‘èè³‡æœ¬ãŒçµã³ã¤ãã€ä¸–ç•Œã‚’åˆ†å‰²æ”¯é…ã€‚ã—ã‹ã—æœ€çµ‚çš„ã«ã¯å¸å›½ä¸»ç¾©æˆ¦äº‰ã¨é©å‘½ã§å´©å£Šã™ã‚‹ã¨äºˆæ¸¬ã€‚ãƒ­ã‚·ã‚¢é©å‘½ã‚’æŒ‡å°ã€‚',
                    connection: 'ãƒãƒ«ã‚¯ã‚¹ä¸»ç¾©ã®å®Ÿè·µè€…ã€‚',
                    diagramType: 'imperialism',
                    diagramContent: null
                }
            ],
            
            // --- KEYNESIAN ---
            keynesian: [
                {
                    id: 'keynes',
                    name: 'ã‚¸ãƒ§ãƒ³ãƒ»Mãƒ»ã‚±ã‚¤ãƒ³ã‚º',
                    title: 'ãƒã‚¯ãƒ­çµŒæ¸ˆå­¦ã®çˆ¶',
                    question: 'å¤§ææ…Œã®ã‚ˆã†ãªå¤±æ¥­ã¯ãªãœèµ·ãã‚‹ã®ã‹ï¼Ÿ',
                    answer: 'ã€Œæœ‰åŠ¹éœ€è¦ã€ãŒä¸è¶³ã™ã‚‹ã‹ã‚‰ã ã€‚æ”¿åºœãŒæ”¯å‡ºã‚’å¢—ã‚„ã›ã°è§£æ±ºã™ã‚‹ã€‚',
                    detail: 'ã€ä¸€èˆ¬ç†è«–ã€(1936)ã§å¤å…¸æ´¾ã®ã€Œå¸‚å ´ã¯è‡ªå‹•èª¿æ•´ã•ã‚Œã‚‹ã€ã¨ã„ã†å‰æã‚’å¦å®šã€‚è²¯è“„ãŒå¢—ãˆã™ãã‚‹ã¨æ¶ˆè²»ãƒ»æŠ•è³‡ãŒæ¸›ã‚Šã€ä¸æ³ã«ãªã‚‹ï¼ˆã‚»ã‚¤æ³•å‰‡ã®å¦å®šï¼‰ã€‚è²¡æ”¿æ”¿ç­–ãƒ»é‡‘èæ”¿ç­–ã§éœ€è¦ã‚’å–šèµ·ã™ã¹ãã¨èª¬ãã€‚',
                    connection: 'ãƒãƒ¼ã‚·ãƒ£ãƒ«ã®å¼Ÿå­ã€‚20ä¸–ç´€çµŒæ¸ˆå­¦ã®é©å‘½ã€‚',
                    diagramType: 'effective_demand',
                    diagramContent: null
                },
                {
                    id: 'samuelson',
                    name: 'ãƒãƒ¼ãƒ«ãƒ»ã‚µãƒŸãƒ¥ã‚¨ãƒ«ã‚½ãƒ³',
                    title: 'æ–°å¤å…¸æ´¾ç·åˆ',
                    question: 'ã‚±ã‚¤ãƒ³ã‚ºçµŒæ¸ˆå­¦ã¨æ–°å¤å…¸æ´¾ã¯ä¸¡ç«‹ã™ã‚‹ã®ã‹ï¼Ÿ',
                    answer: 'çŸ­æœŸã¯ã‚±ã‚¤ãƒ³ã‚ºã€é•·æœŸã¯æ–°å¤å…¸æ´¾ã€‚ä¸¡è€…ã‚’çµ±åˆã§ãã‚‹ã€‚',
                    detail: 'ã€çµŒæ¸ˆå­¦ã€æ•™ç§‘æ›¸ã§ä¸–ç•Œä¸­ã®çµŒæ¸ˆå­¦æ•™è‚²ã‚’æ¨™æº–åŒ–ã€‚45åº¦ç·šåˆ†æã€ä¹—æ•°ç†è«–ãªã©ã‚’æ™®åŠã•ã›ãŸã€‚æ•°å­¦çš„æ‰‹æ³•ã‚’çµŒæ¸ˆå­¦ã«æœ¬æ ¼å°å…¥ã€‚ãƒãƒ¼ãƒ™ãƒ«çµŒæ¸ˆå­¦è³ç¬¬1å·ï¼ˆ1970ï¼‰ã€‚',
                    connection: 'ã‚±ã‚¤ãƒ³ã‚¸ã‚¢ãƒ³ã®æ——æ‰‹ã€‚',
                    diagramType: 'neoclassical_synthesis',
                    diagramContent: null
                },
                {
                    id: 'hicks',
                    name: 'ã‚¸ãƒ§ãƒ³ãƒ»Rãƒ»ãƒ’ãƒƒã‚¯ã‚¹',
                    title: 'IS-LMãƒ¢ãƒ‡ãƒ«',
                    question: 'ã‚±ã‚¤ãƒ³ã‚ºç†è«–ã‚’å›³ã§ç†è§£ã™ã‚‹ã«ã¯ï¼Ÿ',
                    answer: 'IS-LMãƒ¢ãƒ‡ãƒ«ã§ã€è²¡å¸‚å ´ã¨è²¨å¹£å¸‚å ´ã®åŒæ™‚å‡è¡¡ã‚’ç¤ºã›ã‚‹ã€‚',
                    detail: 'ã‚±ã‚¤ãƒ³ã‚ºã®è¤‡é›‘ãªç†è«–ã‚’ã€è²¡å¸‚å ´ï¼ˆISæ›²ç·šï¼‰ã¨è²¨å¹£å¸‚å ´ï¼ˆLMæ›²ç·šï¼‰ã®2æœ¬ã®æ›²ç·šã§è¡¨ç¾ã€‚ãƒã‚¯ãƒ­çµŒæ¸ˆå­¦ã®æ•™ç§‘æ›¸ãƒ¢ãƒ‡ãƒ«ã¨ãªã£ãŸã€‚',
                    connection: 'ã‚±ã‚¤ãƒ³ã‚ºç†è«–ã®å®šå¼åŒ–ã€‚ãƒãƒ¼ãƒ™ãƒ«è³1972ã€‚',
                    diagramType: 'is_lm',
                    diagramContent: null
                }
            ],
            
            // --- LIBERTARIAN ---
            libertarian: [
                {
                    id: 'hayek',
                    name: 'F.A.ãƒã‚¤ã‚¨ã‚¯',
                    title: 'è‡ªç”±ã®å“²å­¦è€…',
                    question: 'è¨ˆç”»çµŒæ¸ˆã¯åŠ¹ç‡çš„ã‹ï¼Ÿ',
                    answer: 'ã„ã„ãˆã€‚å¸‚å ´ã®åˆ†æ•£çš„ãªçŸ¥è­˜ã‚’ã€ä¸­å¤®ã¯æ±ºã—ã¦é›†ã‚ã‚‰ã‚Œãªã„ã€‚',
                    detail: 'ã€éš·å±ã¸ã®é“ã€(1944)ã§ç¤¾ä¼šä¸»ç¾©ãƒ»è¨ˆç”»çµŒæ¸ˆã‚’æ‰¹åˆ¤ã€‚å¸‚å ´ä¾¡æ ¼ã“ããŒã€ç„¡æ•°ã®å€‹äººã®çŸ¥è­˜ã‚’é›†ç´„ã™ã‚‹å„ªã‚ŒãŸæƒ…å ±ã‚·ã‚¹ãƒ†ãƒ ã ã¨ã—ãŸã€‚æ”¿åºœä»‹å…¥ã¯ã‹ãˆã£ã¦è‡ªç”±ã‚’ç ´å£Šã™ã‚‹ã¨è­¦å‘Šã€‚',
                    connection: 'ã‚ªãƒ¼ã‚¹ãƒˆãƒªã‚¢å­¦æ´¾ã€‚ãƒ•ãƒªãƒ¼ãƒ‰ãƒãƒ³ã¨å…±ã«æ–°è‡ªç”±ä¸»ç¾©ã®åŒç’§ã€‚',
                    diagramType: 'dispersed_knowledge',
                    diagramContent: null
                },
                {
                    id: 'friedman',
                    name: 'ãƒŸãƒ«ãƒˆãƒ³ãƒ»ãƒ•ãƒªãƒ¼ãƒ‰ãƒãƒ³',
                    title: 'ãƒãƒã‚¿ãƒªã‚¹ãƒˆã®å·¨åŒ ',
                    question: 'ã‚¤ãƒ³ãƒ•ãƒ¬ã®åŸå› ã¯ä½•ã‹ï¼Ÿ',
                    answer: 'ã€Œã„ã¤ã§ã‚‚ã©ã“ã§ã‚‚è²¨å¹£çš„ç¾è±¡ã€ã ã€‚ä¸­å¤®éŠ€è¡Œã®é‡‘èæ”¿ç­–ãŒã™ã¹ã¦ã€‚',
                    detail: 'ã‚±ã‚¤ãƒ³ã‚ºæ”¿ç­–ã‚’æ‰¹åˆ¤ã—ã€è²¡æ”¿æ”¿ç­–ã‚ˆã‚Šé‡‘èæ”¿ç­–ãŒé‡è¦ã¨ä¸»å¼µã€‚è‡ªç„¶å¤±æ¥­ç‡ä»®èª¬ã€æ’å¸¸æ‰€å¾—ä»®èª¬ãªã©ã€‚æ”¿åºœã®å½¹å‰²ã‚’æœ€å°åŒ–ã—ã€å¸‚å ´ã«ä»»ã›ã‚‹ã¹ãã¨èª¬ãã€‚ãƒãƒ¼ãƒ™ãƒ«è³1976ã€‚',
                    connection: 'ã‚·ã‚«ã‚´å­¦æ´¾ã®é•·ã€‚ãƒ¬ãƒ¼ã‚¬ãƒãƒŸã‚¯ã‚¹ã«å½±éŸ¿ã€‚',
                    diagramType: 'monetarism',
                    diagramContent: null
                },
                {
                    id: 'lucas',
                    name: 'ãƒ­ãƒãƒ¼ãƒˆãƒ»ãƒ«ãƒ¼ã‚«ã‚¹',
                    title: 'åˆç†çš„æœŸå¾…é©å‘½',
                    question: 'ã‚±ã‚¤ãƒ³ã‚ºæ”¿ç­–ã¯æœ¬å½“ã«åŠ¹ãã®ã‹ï¼Ÿ',
                    answer: 'äººã€…ã¯æ”¿åºœã®è¡Œå‹•ã‚’äºˆæ¸¬ã™ã‚‹ã®ã§ã€åŠ¹æœã¯é™å®šçš„ã ï¼ˆãƒ«ãƒ¼ã‚«ã‚¹æ‰¹åˆ¤ï¼‰ã€‚',
                    detail: 'åˆç†çš„æœŸå¾…å½¢æˆç†è«–ã§ã€äººã€…ãŒå®Œå…¨ã«å°†æ¥ã‚’äºˆæ¸¬ã™ã‚Œã°ã€æ”¿åºœã®æ”¿ç­–åŠ¹æœã¯æ¶ˆãˆã¦ã—ã¾ã†ã¨ä¸»å¼µã€‚ãƒã‚¯ãƒ­çµŒæ¸ˆå­¦ã‚’ãƒŸã‚¯ãƒ­çš„åŸºç¤ã®ä¸Šã«å†æ§‹ç¯‰ã€‚ãƒãƒ¼ãƒ™ãƒ«è³1995ã€‚',
                    connection: 'ãƒ‹ãƒ¥ãƒ¼ãƒã‚¯ãƒ­çµŒæ¸ˆå­¦ã®å‰µå§‹è€…ã€‚',
                    diagramType: 'rational_expectations',
                    diagramContent: null
                }
            ],
            
            // --- GAME THEORY ---
            game: [
                {
                    id: 'nash',
                    name: 'ã‚¸ãƒ§ãƒ³ãƒ»ãƒŠãƒƒã‚·ãƒ¥',
                    title: 'ãƒŠãƒƒã‚·ãƒ¥å‡è¡¡',
                    question: 'äº’ã„ã«å½±éŸ¿ã—åˆã†çŠ¶æ³ã§ã€ã©ã†è¡Œå‹•ã™ã¹ãã‹ï¼Ÿ',
                    answer: 'ç›¸æ‰‹ã®æˆ¦ç•¥ã‚’æ‰€ä¸ã¨ã—ã¦ã€è‡ªåˆ†ã®æœ€é©æˆ¦ç•¥ã‚’é¸ã¶ã€ŒãƒŠãƒƒã‚·ãƒ¥å‡è¡¡ã€ã«è½ã¡ç€ãã€‚',
                    detail: 'éå”åŠ›ã‚²ãƒ¼ãƒ ç†è«–ã‚’ç¢ºç«‹ã€‚å›šäººã®ã‚¸ãƒ¬ãƒ³ãƒãªã©ã€å€‹ã€…ã®åˆç†æ€§ãŒå…¨ä½“ã®éåˆç†ã‚’ç”Ÿã‚€ç¾è±¡ã‚’åˆ†æã€‚æ˜ ç”»ã€ãƒ“ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ•ãƒ«ãƒ»ãƒã‚¤ãƒ³ãƒ‰ã€ã®ãƒ¢ãƒ‡ãƒ«ã€‚ãƒãƒ¼ãƒ™ãƒ«è³1994ã€‚',
                    connection: 'ãƒ•ã‚©ãƒ³ãƒ»ãƒã‚¤ãƒãƒ³ã®å¾Œç¶™ã€‚',
                    diagramType: 'nash_equilibrium',
                    diagramContent: null
                },
                {
                    id: 'coase',
                    name: 'ãƒ­ãƒŠãƒ«ãƒ‰ãƒ»ã‚³ãƒ¼ã‚¹',
                    title: 'å–å¼•è²»ç”¨ç†è«–',
                    question: 'ä¼æ¥­ã¯ãªãœå­˜åœ¨ã™ã‚‹ã®ã‹ï¼Ÿ',
                    answer: 'å¸‚å ´å–å¼•ã«ã¯è²»ç”¨ï¼ˆå–å¼•è²»ç”¨ï¼‰ãŒã‹ã‹ã‚‹ã‹ã‚‰ã€çµ„ç¹”å†…ã§è¡Œã†æ–¹ãŒåŠ¹ç‡çš„ãªå ´åˆãŒã‚ã‚‹ã€‚',
                    detail: 'ã€ä¼æ¥­ã®æ€§è³ªã€(1937)ã€ã€ç¤¾ä¼šçš„è²»ç”¨ã®å•é¡Œã€(1960)ã€‚ã‚³ãƒ¼ã‚¹ã®å®šç†ï¼šè²¡ç”£æ¨©ãŒæ˜ç¢ºã§å–å¼•è²»ç”¨ãŒã‚¼ãƒ­ãªã‚‰ã€è³‡æºé…åˆ†ã¯åŠ¹ç‡çš„ã«ãªã‚‹ï¼ˆèª°ãŒæ¨©åˆ©ã‚’æŒã¤ã‹ã«ã‚ˆã‚‰ãªã„ï¼‰ã€‚ãƒãƒ¼ãƒ™ãƒ«è³1991ã€‚',
                    connection: 'åˆ¶åº¦æ´¾çµŒæ¸ˆå­¦ã®æºæµã€‚',
                    diagramType: 'transaction_cost',
                    diagramContent: null
                },
                {
                    id: 'north',
                    name: 'ãƒ€ã‚°ãƒ©ã‚¹ãƒ»ãƒãƒ¼ã‚¹',
                    title: 'æ–°åˆ¶åº¦æ´¾çµŒæ¸ˆå­¦',
                    question: 'ãªãœå›½ã«ã‚ˆã£ã¦çµŒæ¸ˆç™ºå±•ã«å·®ãŒã‚ã‚‹ã®ã‹ï¼Ÿ',
                    answer: 'ã€Œåˆ¶åº¦ï¼ˆãƒ«ãƒ¼ãƒ«ï¼‰ã€ã®è³ªãŒé•ã†ã‹ã‚‰ã ã€‚è‰¯ã„åˆ¶åº¦ãŒæˆé•·ã‚’ä¿ƒã™ã€‚',
                    detail: 'æ‰€æœ‰æ¨©ã€æ³•ã®æ”¯é…ã€å¥‘ç´„åŸ·è¡Œãªã©ã®åˆ¶åº¦ã‚¤ãƒ³ãƒ•ãƒ©ãŒçµŒæ¸ˆæˆæœã‚’æ±ºã‚ã‚‹ã¨ã—ãŸã€‚æ­´å²ã®çµŒæ¸ˆåˆ†æã«ã‚‚è²¢çŒ®ã€‚ãƒãƒ¼ãƒ™ãƒ«è³1993ã€‚',
                    connection: 'ã‚³ãƒ¼ã‚¹ã®å½±éŸ¿ã€‚ã‚¢ã‚»ãƒ¢ã‚°ãƒ«ã¸ç¶šãã€‚',
                    diagramType: 'institutions',
                    diagramContent: null
                }
            ],
            
            // --- BEHAVIORAL ---
            behavioral: [
                {
                    id: 'kahneman',
                    name: 'ãƒ€ãƒ‹ã‚¨ãƒ«ãƒ»ã‚«ãƒ¼ãƒãƒãƒ³',
                    title: 'è¡Œå‹•çµŒæ¸ˆå­¦ã®çˆ¶',
                    question: 'äººé–“ã¯æœ¬å½“ã«åˆç†çš„ã‹ï¼Ÿ',
                    answer: 'ã„ã„ãˆã€‚äººé–“ã¯ã€Œãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯ï¼ˆç›´æ„Ÿï¼‰ã€ã¨ãƒã‚¤ã‚¢ã‚¹ã«æº€ã¡ã¦ã„ã‚‹ã€‚',
                    detail: 'ãƒˆãƒ´ã‚§ãƒ«ã‚¹ã‚­ãƒ¼ã¨ã®å…±åŒç ”ç©¶ã§ã€ãƒ—ãƒ­ã‚¹ãƒšã‚¯ãƒˆç†è«–ã‚’æå”±ã€‚äººã¯æå¤±ã‚’åˆ©ç›Šã®2å€é‡ãæ„Ÿã˜ã‚‹ï¼ˆæå¤±å›é¿ï¼‰ã€‚ãƒ•ãƒ¬ãƒ¼ãƒŸãƒ³ã‚°åŠ¹æœã€ã‚¢ãƒ³ã‚«ãƒªãƒ³ã‚°ãªã©èªçŸ¥ãƒã‚¤ã‚¢ã‚¹ã‚’å®Ÿè¨¼ã€‚å¿ƒç†å­¦è€…ã¨ã—ã¦çµŒæ¸ˆå­¦ãƒãƒ¼ãƒ™ãƒ«è³ï¼ˆ2002ï¼‰ã€‚',
                    connection: 'æ–°å¤å…¸æ´¾ã®åˆç†çš„äººé–“åƒã‚’ç ´å£Šã€‚',
                    diagramType: 'prospect_theory',
                    diagramContent: null
                },
                {
                    id: 'thaler',
                    name: 'ãƒªãƒãƒ£ãƒ¼ãƒ‰ãƒ»ã‚»ã‚¤ãƒ©ãƒ¼',
                    title: 'ãƒŠãƒƒã‚¸ç†è«–',
                    question: 'äººã€…ã«ã‚ˆã‚Šè‰¯ã„é¸æŠã‚’ã•ã›ã‚‹ã«ã¯ï¼Ÿ',
                    answer: 'å¼·åˆ¶ã›ãšã€ã€ŒãƒŠãƒƒã‚¸ï¼ˆãã£ã¨å¾ŒæŠ¼ã—ï¼‰ã€ã§èª˜å°ã™ã‚Œã°ã„ã„ã€‚',
                    detail: 'è¡Œå‹•çµŒæ¸ˆå­¦ã‚’æ”¿ç­–ã«å¿œç”¨ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šï¼ˆåˆæœŸå€¤ï¼‰ã‚’å¤‰ãˆã‚‹ã ã‘ã§ã€è²¯è“„ç‡ã‚„è‡“å™¨æä¾›ç‡ãŒåŠ‡çš„ã«å¤‰ã‚ã‚‹ã€‚ã€Œãƒªãƒã‚¿ãƒªã‚¢ãƒ³ãƒ»ãƒ‘ã‚¿ãƒ¼ãƒŠãƒªã‚ºãƒ ã€ã‚’æå”±ã€‚ãƒãƒ¼ãƒ™ãƒ«è³2017ã€‚',
                    connection: 'ã‚«ãƒ¼ãƒãƒãƒ³ã®ç¶™æ‰¿è€…ã€‚',
                    diagramType: 'nudge',
                    diagramContent: null
                },
                {
                    id: 'piketty',
                    name: 'ãƒˆãƒãƒ»ãƒ”ã‚±ãƒ†ã‚£',
                    title: 'æ ¼å·®ç ”ç©¶ã®æ——æ‰‹',
                    question: 'è³‡æœ¬ä¸»ç¾©ã¯æ ¼å·®ã‚’æ‹¡å¤§ã™ã‚‹ã®ã‹ï¼Ÿ',
                    answer: 'ã™ã‚‹ã€‚è³‡æœ¬åç›Šç‡r > çµŒæ¸ˆæˆé•·ç‡g ã®ã¨ãã€æ ¼å·®ã¯è‡ªå‹•çš„ã«æ‹¡å¤§ã™ã‚‹ã€‚',
                    detail: 'ã€21ä¸–ç´€ã®è³‡æœ¬ã€(2013)ã§300å¹´ã®ç¨å‹™ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æã€‚å¯Œè£•å±¤ã®è³‡ç”£ãŒåŠ´åƒæ‰€å¾—ã‚ˆã‚Šé€Ÿãå¢—ãˆã‚‹ã“ã¨ã‚’å®Ÿè¨¼ã€‚å¯Œè£•ç¨ã‚’ææ¡ˆã—ã€ä¸–ç•Œçš„ãƒ™ã‚¹ãƒˆã‚»ãƒ©ãƒ¼ã«ã€‚',
                    connection: 'å®Ÿè¨¼çš„æ ¼å·®ç ”ç©¶ã®å¾©æ´»ã€‚',
                    diagramType: 'piketty_inequality',
                    diagramContent: null
                },
                {
                    id: 'acemoglu',
                    name: 'ãƒ€ãƒ­ãƒ³ãƒ»ã‚¢ã‚»ãƒ¢ã‚°ãƒ«',
                    title: 'åˆ¶åº¦ã¨æˆé•·ã®çµŒæ¸ˆå­¦',
                    question: 'ãªãœè±Šã‹ãªå›½ã¨è²§ã—ã„å›½ãŒã‚ã‚‹ã®ã‹ï¼Ÿ',
                    answer: 'ã€ŒåŒ…æ‹¬çš„ï¼ˆæ°‘ä¸»çš„ï¼‰åˆ¶åº¦ã€ã‹ã€Œåå¥ªçš„ï¼ˆç‹¬è£çš„ï¼‰åˆ¶åº¦ã€ã‹ã®é•ã„ã ã€‚',
                    detail: 'ã€å›½å®¶ã¯ãªãœè¡°é€€ã™ã‚‹ã®ã‹ã€ã§ã‚¸ã‚§ãƒ¼ãƒ ã‚ºãƒ»ãƒ­ãƒ“ãƒ³ã‚½ãƒ³ã¨å…±è‘—ã€‚æ¤æ°‘åœ°ã®æ­´å²ã€æ”¿æ²»åˆ¶åº¦ãŒé•·æœŸçš„ãªçµŒæ¸ˆæˆæœã‚’æ±ºå®šã™ã‚‹ã¨ä¸»å¼µã€‚ã€Œå‰µé€ çš„ç ´å£Šã€ã‚’è¨±ã™åˆ¶åº¦ãŒé‡è¦ã€‚',
                    connection: 'ãƒãƒ¼ã‚¹ã®å¾Œç¶™ã€‚2024å¹´ãƒãƒ¼ãƒ™ãƒ«è³ã€‚',
                    diagramType: 'extractive_inclusive',
                    diagramContent: null
                }
            ]
        };
        
        // ----------------------------------------------------------------------------
        // DIAGRAM BUILDER
        // ----------------------------------------------------------------------------
        
        const DiagramBuilder = ({ type, content }) => {
            if (type === 'invisible_hand') {
                return (
                    <div className="flex flex-col items-center p-4">
                        <div className="text-4xl mb-2">ğŸ¤</div>
                        <div className="text-lg font-bold text-yellow-500">è¦‹ãˆã–ã‚‹æ‰‹</div>
                        <div className="text-sm text-gray-400 mt-2 text-center">åˆ©å·±å¿ƒ â†’ ç¤¾ä¼šã®åˆ©ç›Š</div>
                    </div>
                );
            }
            
            if (type === 'comparative_advantage') {
                return (
                    <div className="flex justify-around items-center p-4">
                        <div className="text-center">
                            <div className="bg-blue-900 p-3 rounded mb-2">ğŸ· ãƒ¯ã‚¤ãƒ³</div>
                            <div className="text-xs text-gray-400">ãƒãƒ«ãƒˆã‚¬ãƒ«</div>
                        </div>
                        <div className="text-2xl">â‡„</div>
                        <div className="text-center">
                            <div className="bg-green-900 p-3 rounded mb-2">ğŸ‘” å¸ƒ</div>
                            <div className="text-xs text-gray-400">ã‚¤ã‚®ãƒªã‚¹</div>
                        </div>
                    </div>
                );
            }
            
            if (type === 'malthus_trap') {
                return (
                    <div className="flex flex-col items-center p-4">
                        <div className="flex gap-4 mb-3">
                            <div className="text-center">
                                <div className="text-3xl mb-1">ğŸ‘¥</div>
                                <div className="text-xs text-red-400">å¹¾ä½•ç´šæ•°</div>
                            </div>
                            <div className="text-2xl">ï¼</div>
                            <div className="text-center">
                                <div className="text-3xl mb-1">ğŸŒ¾</div>
                                <div className="text-xs text-green-400">ç®—è¡“ç´šæ•°</div>
                            </div>
                        </div>
                        <div className="text-sm text-gray-400">â†’ è²§å›°ãƒ»é£¢é¤“</div>
                    </div>
                );
            }
            
            if (type === 'marginal_utility') {
                return (
                    <div className="flex flex-col items-center p-4">
                        <div className="flex gap-6 mb-3">
                            <div className="text-center">
                                <div className="text-3xl mb-1">ğŸ’§</div>
                                <div className="text-xs text-blue-400">é™ç•ŒåŠ¹ç”¨ï¼šä½ã„<br/>ä¾¡æ ¼ï¼šå®‰ã„</div>
                            </div>
                            <div className="text-center">
                                <div className="text-3xl mb-1">ğŸ’</div>
                                <div className="text-xs text-purple-400">é™ç•ŒåŠ¹ç”¨ï¼šé«˜ã„<br/>ä¾¡æ ¼ï¼šé«˜ã„</div>
                            </div>
                        </div>
                    </div>
                );
            }
            
            if (type === 'supply_demand') {
                return (
                    <div className="flex flex-col items-center p-4">
                        <div className="relative w-48 h-48 border-l-2 border-b-2 border-gray-600">
                            <div className="absolute bottom-0 left-0 w-full h-px bg-blue-500 transform rotate-45 origin-bottom-left"></div>
                            <div className="absolute top-0 left-0 w-full h-px bg-red-500 transform -rotate-45 origin-top-left"></div>
                            <div className="absolute top-1/2 left-1/2 w-2 h-2 bg-yellow-500 rounded-full transform -translate-x-1/2 -translate-y-1/2"></div>
                            <div className="absolute bottom-0 left-0 text-xs text-gray-400">Q</div>
                            <div className="absolute bottom-0 left-0 transform -translate-y-full -translate-x-2 text-xs text-gray-400">P</div>
                        </div>
                        <div className="text-sm text-gray-400 mt-2">éœ€çµ¦å‡è¡¡</div>
                    </div>
                );
            }
            
            if (type === 'general_equilibrium') {
                return (
                    <div className="flex flex-col items-center p-4">
                        <div className="relative">
                            <div className="grid grid-cols-2 gap-2">
                                <div className="bg-blue-900 p-2 rounded text-xs">å¸‚å ´A</div>
                                <div className="bg-green-900 p-2 rounded text-xs">å¸‚å ´B</div>
                                <div className="bg-purple-900 p-2 rounded text-xs">å¸‚å ´C</div>
                                <div className="bg-orange-900 p-2 rounded text-xs">å¸‚å ´D</div>
                            </div>
                        </div>
                        <div className="text-sm text-gray-400 mt-3">åŒæ™‚å‡è¡¡</div>
                    </div>
                );
            }
            
            if (type === 'surplus_value') {
                return (
                    <div className="flex items-center justify-center p-4 gap-3">
                        <div className="bg-gray-700 p-3 rounded text-sm">åŠ´åƒåŠ›</div>
                        <div className="text-2xl">â†’</div>
                        <div className="bg-blue-900 p-3 rounded text-sm">è³ƒé‡‘</div>
                        <div className="text-2xl">+</div>
                        <div className="bg-red-900 p-3 rounded text-sm">å‰°ä½™ä¾¡å€¤</div>
                    </div>
                );
            }
            
            if (type === 'imperialism') {
                return (
                    <div className="flex flex-col items-center p-4">
                        <div className="text-4xl mb-2">ğŸ­</div>
                        <div className="text-2xl">â†“</div>
                        <div className="text-4xl mb-2">ğŸŒ</div>
                        <div className="text-sm text-gray-400 mt-2">æ¤æ°‘åœ°æ”¯é…ã§å»¶å‘½</div>
                    </div>
                );
            }
            
            if (type === 'effective_demand') {
                return (
                    <div className="flex flex-col items-center p-4">
                        <div className="bg-yellow-700 p-4 rounded-lg mb-3 text-center">
                            <div className="font-bold mb-1">æœ‰åŠ¹éœ€è¦</div>
                            <div className="text-xs">æ¶ˆè²» + æŠ•è³‡ + æ”¿åºœæ”¯å‡º</div>
                        </div>
                        <div className="text-2xl">â†“</div>
                        <div className="bg-green-800 p-3 rounded text-sm">é›‡ç”¨ãƒ»ç”Ÿç”£</div>
                    </div>
                );
            }
            
            if (type === 'neoclassical_synthesis') {
                return (
                    <div className="flex justify-around items-center p-4">
                        <div className="bg-blue-900 p-3 rounded text-sm">çŸ­æœŸ<br/>ã‚±ã‚¤ãƒ³ã‚º</div>
                        <div className="text-2xl">+</div>
                        <div className="bg-orange-900 p-3 rounded text-sm">é•·æœŸ<br/>æ–°å¤å…¸æ´¾</div>
                    </div>
                );
            }
            
            if (type === 'is_lm') {
                return (
                    <div className="flex flex-col items-center p-4">
                        <div className="relative w-48 h-48 border-l-2 border-b-2 border-gray-600">
                            <div className="absolute top-0 left-0 w-full h-px bg-blue-500 transform -rotate-12 origin-top-left"></div>
                            <div className="absolute bottom-0 left-0 w-full h-px bg-green-500 transform rotate-12 origin-bottom-left"></div>
                            <div className="absolute top-10 left-4 text-xs text-blue-400">LM</div>
                            <div className="absolute bottom-10 left-4 text-xs text-green-400">IS</div>
                        </div>
                        <div className="text-sm text-gray-400 mt-2">IS-LMå‡è¡¡</div>
                    </div>
                );
            }
            
            if (type === 'dispersed_knowledge') {
                return (
                    <div className="flex flex-col items-center p-4">
                        <div className="text-4xl mb-2">ğŸ’¡ğŸ’¡ğŸ’¡</div>
                        <div className="text-2xl mb-2">â†“</div>
                        <div className="text-3xl">ğŸ’°</div>
                        <div className="text-sm text-gray-400 mt-2">ä¾¡æ ¼ãŒçŸ¥è­˜ã‚’é›†ç´„</div>
                    </div>
                );
            }
            
            if (type === 'monetarism') {
                return (
                    <div className="flex items-center justify-center p-4 gap-3">
                        <div className="bg-green-800 p-4 rounded text-sm">è²¨å¹£ä¾›çµ¦â†‘</div>
                        <div className="text-2xl">â†’</div>
                        <div className="bg-red-900 p-4 rounded text-sm">ã‚¤ãƒ³ãƒ•ãƒ¬â†‘</div>
                    </div>
                );
            }
            
            if (type === 'rational_expectations') {
                return (
                    <div className="flex flex-col items-center p-4">
                        <div className="bg-purple-900 p-3 rounded mb-2">æ”¿åºœï¼šæ™¯æ°—åˆºæ¿€</div>
                        <div className="text-2xl">â†“</div>
                        <div className="bg-gray-700 p-3 rounded mb-2">äººã€…ï¼šäºˆæ¸¬ã—ã¦å¯¾å¿œ</div>
                        <div className="text-2xl">â†“</div>
                        <div className="bg-gray-800 p-3 rounded text-sm">åŠ¹æœãªã—</div>
                    </div>
                );
            }
            
            if (type === 'nash_equilibrium') {
                return (
                    <div className="grid grid-cols-2 gap-2 p-4">
                        <div className="bg-blue-900 p-3 rounded text-xs text-center">å”åŠ›</div>
                        <div className="bg-gray-700 p-3 rounded text-xs text-center">è£åˆ‡ã‚Š</div>
                        <div className="bg-gray-700 p-3 rounded text-xs text-center">è£åˆ‡ã‚Š</div>
                        <div className="bg-red-900 p-3 rounded text-xs text-center font-bold">è£åˆ‡ã‚Š<br/>ãƒŠãƒƒã‚·ãƒ¥å‡è¡¡</div>
                    </div>
                );
            }
            
            if (type === 'transaction_cost') {
                return (
                    <div className="flex justify-around items-center p-4">
                        <div className="text-center">
                            <div className="text-3xl mb-1">ğŸ¢</div>
                            <div className="text-xs text-gray-400">ä¼æ¥­ï¼ˆçµ„ç¹”ï¼‰</div>
                        </div>
                        <div className="text-xl">vs</div>
                        <div className="text-center">
                            <div className="text-3xl mb-1">ğŸ¤</div>
                            <div className="text-xs text-gray-400">å¸‚å ´ï¼ˆå–å¼•ï¼‰</div>
                        </div>
                    </div>
                );
            }
            
            if (type === 'institutions') {
                return (
                    <div className="flex flex-col items-center p-4">
                        <div className="bg-green-800 p-3 rounded mb-2 text-sm">è‰¯ã„åˆ¶åº¦</div>
                        <div className="text-2xl">â†“</div>
                        <div className="bg-blue-900 p-3 rounded text-sm">çµŒæ¸ˆæˆé•·</div>
                    </div>
                );
            }
            
            if (type === 'prospect_theory') {
                return (
                    <div className="flex flex-col items-center p-4">
                        <div className="flex gap-6 mb-3">
                            <div className="text-center">
                                <div className="text-3xl mb-1">ğŸ“ˆ</div>
                                <div className="text-xs text-green-400">åˆ©ç›Šï¼š1</div>
                            </div>
                            <div className="text-xl">ï¼œ</div>
                            <div className="text-center">
                                <div className="text-3xl mb-1">ğŸ“‰</div>
                                <div className="text-xs text-red-400">æå¤±ï¼š2</div>
                            </div>
                        </div>
                        <div className="text-sm text-gray-400">æå¤±å›é¿</div>
                    </div>
                );
            }
            
            if (type === 'nudge') {
                return (
                    <div className="flex flex-col items-center p-4">
                        <div className="text-4xl mb-2">ğŸ‘‰</div>
                        <div className="text-lg font-bold text-yellow-500">ãƒŠãƒƒã‚¸</div>
                        <div className="text-sm text-gray-400 mt-2">ãã£ã¨å¾ŒæŠ¼ã—</div>
                    </div>
                );
            }
            
            if (type === 'piketty_inequality') {
                return (
                    <div className="flex items-center justify-center p-4 gap-3">
                        <div className="bg-yellow-700 p-3 rounded text-sm">r (è³‡æœ¬åç›Šç‡)</div>
                        <div className="text-2xl">ï¼</div>
                        <div className="bg-blue-900 p-3 rounded text-sm">g (çµŒæ¸ˆæˆé•·ç‡)</div>
                        <div className="text-2xl">â†’</div>
                        <div className="bg-red-900 p-3 rounded text-sm">æ ¼å·®æ‹¡å¤§</div>
                    </div>
                );
            }
            
            if (type === 'extractive_inclusive') {
                return (
                    <div className="flex justify-around items-center p-4">
                        <div className="text-center">
                            <div className="bg-red-900 p-3 rounded mb-2 text-sm">åå¥ªçš„åˆ¶åº¦</div>
                            <div className="text-xs text-gray-400">ç‹¬è£ãƒ»è²§å›°</div>
                        </div>
                        <div className="text-xl">vs</div>
                        <div className="text-center">
                            <div className="bg-green-800 p-3 rounded mb-2 text-sm">åŒ…æ‹¬çš„åˆ¶åº¦</div>
                            <div className="text-xs text-gray-400">æ°‘ä¸»ãƒ»ç¹æ „</div>
                        </div>
                    </div>
                );
            }
            
            return <div className="text-gray-500 text-sm p-4 text-center">å›³è§£æº–å‚™ä¸­</div>;
        };
        
        // ----------------------------------------------------------------------------
        // MAIN APP
        // ----------------------------------------------------------------------------
        
        const EconomicsApp = () => {
            const [selectedEra, setSelectedEra] = useState('classical');
            const [selectedEconomist, setSelectedEconomist] = useState(null);
            // Mobile view state: 'era' | 'list' | 'content'
            const [mobileView, setMobileView] = useState('era');
            
            useEffect(() => {
                const economists = ECONOMISTS[selectedEra] || [];
                setSelectedEconomist(economists[0] || null);
            }, [selectedEra]);
            
            const economists = ECONOMISTS[selectedEra] || [];
            
            // Handle era selection on mobile
            const handleEraSelect = (eraId) => {
                setSelectedEra(eraId);
                setMobileView('list');
            };
            
            // Handle economist selection on mobile
            const handleEconomistSelect = (economist) => {
                setSelectedEconomist(economist);
                setMobileView('content');
            };
            
            // Back button handler
            const handleBack = () => {
                if (mobileView === 'content') {
                    setMobileView('list');
                } else if (mobileView === 'list') {
                    setMobileView('era');
                }
            };
            
            return (
                <div className="min-h-screen bg-black text-white">
                    {/* Header */}
                    <header className="border-b border-gray-800 bg-gray-900 p-4 md:p-6">
                        {/* Mobile back button */}
                        <div className="md:hidden flex items-center justify-between mb-3">
                            {mobileView !== 'era' && (
                                <button
                                    onClick={handleBack}
                                    className="flex items-center gap-2 text-blue-400 hover:text-blue-300 transition-colors"
                                >
                                    <ArrowLeft size={20} />
                                    <span className="text-sm">æˆ»ã‚‹</span>
                                </button>
                            )}
                            <a
                                href="../index.html"
                                className="flex items-center gap-2 text-gray-400 hover:text-gray-200 transition-colors ml-auto"
                            >
                                <Home size={18} />
                                <span className="text-sm">ãƒ›ãƒ¼ãƒ </span>
                            </a>
                        </div>
                        <div className="hidden md:flex justify-between items-center">
                            <div className="flex-1 flex justify-start">
                                <a
                                    href="index.html"
                                    className="flex items-center gap-2 text-blue-400 hover:text-blue-300 transition-colors"
                                >
                                    <Book size={20} />
                                    <span className="text-sm">ğŸ“– ç°¡æ˜“ç‰ˆã‚’è¦‹ã‚‹</span>
                                </a>
                            </div>
                            <div className="flex-1 text-center">
                                <h1 className="text-2xl md:text-3xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent">
                                    çµŒæ¸ˆå­¦å›³é‘‘ è©³ç´°ç‰ˆ
                                </h1>
                                <p className="text-gray-400 text-xs md:text-sm mt-2">Economics Illustrated Book - Deep Dive</p>
                            </div>
                            <div className="flex-1 flex justify-end">
                                <a
                                    href="../index.html"
                                    className="flex items-center gap-2 text-gray-400 hover:text-gray-200 transition-colors"
                                >
                                    <Home size={20} />
                                    <span className="text-sm">ãƒ›ãƒ¼ãƒ </span>
                                </a>
                            </div>
                        </div>
                        <div className="md:hidden text-center">
                            <h1 className="text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent">
                                çµŒæ¸ˆå­¦å›³é‘‘ è©³ç´°ç‰ˆ
                            </h1>
                            <p className="text-gray-400 text-xs mt-2">Deep Dive Edition</p>
                            <a
                                href="index.html"
                                className="inline-flex items-center gap-2 text-blue-400 hover:text-blue-300 transition-colors mt-2 text-sm"
                            >
                                <Book size={16} />
                                <span>ğŸ“– ç°¡æ˜“ç‰ˆã‚’è¦‹ã‚‹</span>
                            </a>
                        </div>
                    </header>
                    
                    {/* Desktop Layout (md and up) */}
                    <div className="hidden md:flex h-[calc(100vh-120px)]">
                        {/* Left Sidebar - Eras */}
                        <div className="w-64 bg-gray-900 border-r border-gray-800 overflow-y-auto p-4">
                            {ERAS.map((era) => (
                                <div
                                    key={era.id}
                                    className={`flex items-start gap-3 p-4 mb-2 rounded-lg cursor-pointer transition-all ${
                                        selectedEra === era.id
                                            ? 'bg-blue-900 border border-blue-600 shadow-lg shadow-blue-500/30'
                                            : 'bg-gray-800 hover:bg-gray-700'
                                    }`}
                                    onClick={() => setSelectedEra(era.id)}
                                >
                                    <div className="mt-1">{era.icon}</div>
                                    <div className="flex-1">
                                        <div className="text-sm font-semibold">{era.title}</div>
                                        <div className="text-xs text-gray-400 mt-1">{era.period}</div>
                                    </div>
                                </div>
                            ))}
                        </div>
                        
                        {/* Middle Sidebar - Economists */}
                        <div className="w-64 bg-gray-950 border-r border-gray-800 overflow-y-auto p-4">
                            <h2 className="text-base font-semibold text-gray-300 mb-4">çµŒæ¸ˆå­¦è€…ä¸€è¦§</h2>
                            {economists.map((e) => (
                                <div
                                    key={e.id}
                                    className={`p-3 mb-2 rounded-lg cursor-pointer transition-all ${
                                        selectedEconomist?.id === e.id
                                            ? 'bg-blue-900/50 border border-blue-600'
                                            : 'bg-gray-800 hover:bg-gray-700'
                                    }`}
                                    onClick={() => setSelectedEconomist(e)}
                                >
                                    <div className="font-semibold text-sm">{e.name}</div>
                                    <div className="text-xs text-gray-400 mt-1">{e.title}</div>
                                </div>
                            ))}
                        </div>
                        
                        {/* Main Content Area */}
                        <div className="flex-1 bg-gray-900 overflow-y-auto p-8">
                            {selectedEconomist ? (
                                <div className="max-w-3xl mx-auto bg-gray-800 border border-gray-700 rounded-xl p-8">
                                    <div className="mb-8">
                                        <h2 className="text-3xl font-bold text-blue-400 mb-2">{selectedEconomist.name}</h2>
                                        <p className="text-gray-400 text-lg">{selectedEconomist.title}</p>
                                    </div>
                                    
                                    <div className="mb-6">
                                        <h3 className="text-sm font-semibold mb-2 flex items-center gap-2 text-yellow-500">
                                            â“ å•ã„
                                        </h3>
                                        <p className="text-gray-300">{selectedEconomist.question}</p>
                                    </div>
                                    
                                    <div className="mb-6">
                                        <h3 className="text-sm font-semibold mb-2 flex items-center gap-2 text-green-500">
                                            ğŸ’¡ ç­”ãˆ
                                        </h3>
                                        <p className="text-white font-semibold">{selectedEconomist.answer}</p>
                                    </div>
                                    
                                    <div className="mb-6">
                                        <h3 className="text-sm font-semibold mb-2 flex items-center gap-2 text-purple-400">
                                            ğŸ“– è©³ç´°
                                        </h3>
                                        <p className="text-gray-300 text-sm leading-relaxed">{selectedEconomist.detail}</p>
                                    </div>
                                    
                                    <div className="mb-6">
                                        <h3 className="text-sm font-semibold mb-2 flex items-center gap-2 text-blue-400">
                                            ğŸ”— ç³»è­œ
                                        </h3>
                                        <p className="text-gray-400 text-sm">{selectedEconomist.connection}</p>
                                    </div>
                                    
                                    <div>
                                        <h3 className="text-sm font-semibold mb-2 flex items-center gap-2 text-gray-400">
                                            ğŸ“Š å›³è§£
                                        </h3>
                                        <div className="bg-gray-900 border border-gray-700 rounded-lg p-4 min-h-48 flex items-center justify-center">
                                            <DiagramBuilder type={selectedEconomist.diagramType} content={selectedEconomist.diagramContent} />
                                        </div>
                                    </div>
                                </div>
                            ) : (
                                <div className="text-center text-gray-500 py-16">
                                    çµŒæ¸ˆå­¦è€…ã‚’é¸æŠã—ã¦ãã ã•ã„
                                </div>
                            )}
                        </div>
                    </div>
                    
                    {/* Mobile Layout */}
                    <div className="md:hidden">
                        {/* Era Selection View */}
                        {mobileView === 'era' && (
                            <div className="min-h-[calc(100vh-140px)] bg-gray-900 p-4">
                                <h2 className="text-lg font-semibold text-gray-300 mb-4">æ™‚ä»£ã‚’é¸æŠ</h2>
                                {ERAS.map((era) => (
                                    <div
                                        key={era.id}
                                        className={`flex items-start gap-3 p-4 mb-3 rounded-lg cursor-pointer transition-all ${
                                            selectedEra === era.id
                                                ? 'bg-blue-900 border border-blue-600 shadow-lg shadow-blue-500/30'
                                                : 'bg-gray-800 active:bg-gray-700'
                                        }`}
                                        onClick={() => handleEraSelect(era.id)}
                                    >
                                        <div className="mt-1">{era.icon}</div>
                                        <div className="flex-1">
                                            <div className="text-sm font-semibold">{era.title}</div>
                                            <div className="text-xs text-gray-400 mt-1">{era.period}</div>
                                        </div>
                                        <div className="mt-1">
                                            <ArrowRight size={18} />
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}
                        
                        {/* Economist List View */}
                        {mobileView === 'list' && (
                            <div className="min-h-[calc(100vh-140px)] bg-gray-950 p-4">
                                <h2 className="text-lg font-semibold text-gray-300 mb-4">çµŒæ¸ˆå­¦è€…ä¸€è¦§</h2>
                                {economists.map((e) => (
                                    <div
                                        key={e.id}
                                        className={`p-4 mb-3 rounded-lg cursor-pointer transition-all ${
                                            selectedEconomist?.id === e.id
                                                ? 'bg-blue-900/50 border border-blue-600'
                                                : 'bg-gray-800 active:bg-gray-700'
                                        }`}
                                        onClick={() => handleEconomistSelect(e)}
                                    >
                                        <div className="flex items-center justify-between">
                                            <div className="flex-1">
                                                <div className="font-semibold text-sm">{e.name}</div>
                                                <div className="text-xs text-gray-400 mt-1">{e.title}</div>
                                            </div>
                                            <ArrowRight size={18} />
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}
                        
                        {/* Content View */}
                        {mobileView === 'content' && selectedEconomist && (
                            <div className="min-h-[calc(100vh-140px)] bg-gray-900 overflow-y-auto p-4">
                                <div className="bg-gray-800 border border-gray-700 rounded-xl p-6">
                                    <div className="mb-6">
                                        <h2 className="text-2xl font-bold text-blue-400 mb-2">{selectedEconomist.name}</h2>
                                        <p className="text-gray-400 text-base">{selectedEconomist.title}</p>
                                    </div>
                                    
                                    <div className="mb-5">
                                        <h3 className="text-sm font-semibold mb-2 flex items-center gap-2 text-yellow-500">
                                            â“ å•ã„
                                        </h3>
                                        <p className="text-gray-300 text-sm">{selectedEconomist.question}</p>
                                    </div>
                                    
                                    <div className="mb-5">
                                        <h3 className="text-sm font-semibold mb-2 flex items-center gap-2 text-green-500">
                                            ğŸ’¡ ç­”ãˆ
                                        </h3>
                                        <p className="text-white font-semibold text-sm">{selectedEconomist.answer}</p>
                                    </div>
                                    
                                    <div className="mb-5">
                                        <h3 className="text-sm font-semibold mb-2 flex items-center gap-2 text-purple-400">
                                            ğŸ“– è©³ç´°
                                        </h3>
                                        <p className="text-gray-300 text-sm leading-relaxed">{selectedEconomist.detail}</p>
                                    </div>
                                    
                                    <div className="mb-5">
                                        <h3 className="text-sm font-semibold mb-2 flex items-center gap-2 text-blue-400">
                                            ğŸ”— ç³»è­œ
                                        </h3>
                                        <p className="text-gray-400 text-sm">{selectedEconomist.connection}</p>
                                    </div>
                                    
                                    <div>
                                        <h3 className="text-sm font-semibold mb-2 flex items-center gap-2 text-gray-400">
                                            ğŸ“Š å›³è§£
                                        </h3>
                                        <div className="bg-gray-900 border border-gray-700 rounded-lg p-4 min-h-48 flex items-center justify-center">
                                            <DiagramBuilder type={selectedEconomist.diagramType} content={selectedEconomist.diagramContent} />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };
        
        // Render
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<EconomicsApp />);
    </script>
</body>
</html>
